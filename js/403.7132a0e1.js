"use strict";(self["webpackChunkocean_life"]=self["webpackChunkocean_life"]||[]).push([[403],{460:function(e,a,t){t.d(a,{Z:function(){return u}});var l=t(3396);const n={class:"sk-fading-circle"},i=(0,l.uE)('<div class="sk-circle1 sk-circle" data-v-044c9dad></div><div class="sk-circle2 sk-circle" data-v-044c9dad></div><div class="sk-circle3 sk-circle" data-v-044c9dad></div><div class="sk-circle4 sk-circle" data-v-044c9dad></div><div class="sk-circle5 sk-circle" data-v-044c9dad></div><div class="sk-circle6 sk-circle" data-v-044c9dad></div><div class="sk-circle7 sk-circle" data-v-044c9dad></div><div class="sk-circle8 sk-circle" data-v-044c9dad></div><div class="sk-circle9 sk-circle" data-v-044c9dad></div><div class="sk-circle10 sk-circle" data-v-044c9dad></div><div class="sk-circle11 sk-circle" data-v-044c9dad></div><div class="sk-circle12 sk-circle" data-v-044c9dad></div>',12),r=[i];function s(e,a,t,i,s,d){return(0,l.wg)(),(0,l.iD)("div",n,r)}var d={},c=t(89);const o=(0,c.Z)(d,[["render",s],["__scopeId","data-v-044c9dad"]]);var u=o},9382:function(e,a,t){t.d(a,{Z:function(){return c}});var l=t(3396);const n={class:"memberList"};function i(e,a,t,i,r,s){const d=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("ul",n,[(0,l._)("li",null,[(0,l.Wm)(d,{to:"/member/memberProfile"},{default:(0,l.w5)((()=>[(0,l.Uk)("會員資料")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(d,{to:"/member/orderTracking"},{default:(0,l.w5)((()=>[(0,l.Uk)("訂單查詢")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(d,{to:"/member/myCollection"},{default:(0,l.w5)((()=>[(0,l.Uk)("我的收藏")])),_:1})])])}var r={setup(){return{}}},s=t(89);const d=(0,s.Z)(r,[["render",i],["__scopeId","data-v-56857a3f"]]);var c=d},9173:function(e,a,t){t.d(a,{Z:function(){return p}});var l=t(3396),n=t(7139);const i={class:"title"};function r(e,a,t,r,s,d){return(0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("p",null,"Hi, "+(0,n.zw)(r.userCode),1),(0,l._)("a",{onClick:a[0]||(a[0]=(...e)=>r.exit&&r.exit(...e))},"登出")])}t(7658);var s=t(2483),d=t(4870),c={setup(){const e=(0,s.tv)(),a=(0,d.iH)(),t=(e,a,t)=>{const l=new Date;l.setTime(l.getTime()+24*t*60*60*1e3);const n="expires="+l.toUTCString();document.cookie=e+"="+a+";"+n+";path=/"},n=e=>{const a=e+"=",t=document.cookie.split(";");for(let l=0;l<t.length;l++){let e=t[l];while(" "===e.charAt(0))e=e.substring(1);if(0===e.indexOf(a))return e.substring(a.length,e.length)}return""},i=e=>{const a=n(e);return""!==a},r=()=>{i("token")?(t("token","",-1),e.push({name:"Login"})):localStorage.getItem("token")&&(window.localStorage.clear(),e.push({name:"Login"}))};return(0,l.bv)((()=>{i("token")?a.value=n("userCode"):localStorage.getItem("token")&&(a.value=localStorage.getItem("userCode"))})),{exit:r,userCode:a}}},o=t(89);const u=(0,o.Z)(c,[["render",r],["__scopeId","data-v-2260f658"]]);var p=u},4403:function(e,a,t){t.r(a),t.d(a,{default:function(){return te}});var l=t(3396),n=t(7139),i=t(9242),r=t(2284);const s=e=>((0,l.dD)("data-v-79682d72"),e=e(),(0,l.Cn)(),e),d={class:"MemberpProfile"},c={class:"containerMain"},o=s((()=>(0,l._)("h3",null,"會員中心",-1))),u={class:"profileBox"},p={key:0,class:"loading"},v={key:1},m={ref:"form",action:"https://oceandemo.herokuapp.com/MySpringBoot/updateUser",method:"post",enctype:"multipart/form-data"},g={class:"profile"},_={class:"profileLeft"},k=s((()=>(0,l._)("div",{class:"profileImg"},[(0,l._)("img",{src:r,alt:"會員照片"})],-1))),f={class:"profileRight"},y=s((()=>(0,l._)("a",{href:"",class:"editProfile"},[(0,l._)("div",{class:"editIcon"}),(0,l._)("p",null,"編輯會員資料")],-1))),h={class:"profileText"},b=s((()=>(0,l._)("p",{class:"textTitle"},"電子郵件",-1))),w={name:"account"},C=s((()=>(0,l._)("p",{class:"textTitle"},"姓名*",-1))),x=s((()=>(0,l._)("p",{class:"textTitle"},"生日",-1))),I={name:"birth"},T=s((()=>(0,l._)("p",{class:"textTitle"},"密碼",-1))),D=s((()=>(0,l._)("p",{class:"textTitle"},"性別",-1))),U={class:"boy"},S=s((()=>(0,l._)("label",{for:"boy"},"男",-1))),H={class:"girl"},F=s((()=>(0,l._)("label",{for:"girl"},"女",-1))),N={class:"others"},Z=s((()=>(0,l._)("label",{for:"others"},"其他",-1))),B=s((()=>(0,l._)("p",{class:"textTitle"},"連絡電話",-1))),V={class:"addressTitle"},L=s((()=>(0,l._)("p",{class:"textTitle"},"地址",-1))),M={class:"addressBox inputText"},A={class:"address"},q=s((()=>(0,l._)("option",{value:"",disabled:""},"請選擇縣市",-1))),W=["value"],z=s((()=>(0,l._)("option",{value:"",disabled:""},"請選擇地區",-1))),E=["value"],G={class:"agreenBox"},P=s((()=>(0,l._)("div",{class:"agreenEmailText"},[(0,l._)("label",{class:"agreenTitle",for:"agreenEmail"},"訂閱電子報"),(0,l._)("label",{for:"agreenEmail"},"獲得會員福利的最新消息、優惠好禮 ")],-1))),j={class:"profileBtn"};function R(e,a,t,r,s,R){const K=(0,l.up)("Title"),O=(0,l.up)("MemberList"),Y=(0,l.up)("Loading");return(0,l.wg)(),(0,l.iD)("main",d,[(0,l._)("div",c,[o,(0,l.Wm)(K,{userCode:r.userCode},null,8,["userCode"]),(0,l._)("div",u,[(0,l.Wm)(O),r.loading?((0,l.wg)(),(0,l.iD)("section",p,[(0,l.Wm)(Y)])):((0,l.wg)(),(0,l.iD)("section",v,[(0,l._)("form",m,[(0,l._)("div",g,[(0,l._)("div",_,[k,(0,l._)("button",{onClick:a[0]||(a[0]=(...e)=>r.alertFn&&r.alertFn(...e))},"上傳圖片")]),(0,l._)("div",f,[y,(0,l._)("ul",h,[(0,l._)("li",null,[b,(0,l._)("p",w,(0,n.zw)(r.memberDatas.data.userAccount),1)]),(0,l._)("li",null,[C,(0,l.wy)((0,l._)("input",{class:"inputText",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>r.name=e),ref:"nameInput",name:"name",required:""},null,512),[[i.nr,r.name,void 0,{trim:!0}]])]),(0,l._)("li",null,[x,(0,l._)("p",I,(0,n.zw)(r.memberDatas.data.userBirth),1)]),(0,l._)("li",null,[T,(0,l._)("a",{class:"password",onClick:a[2]||(a[2]=(...e)=>r.alertFn&&r.alertFn(...e))},"修改密碼")]),(0,l._)("li",null,[D,(0,l._)("div",U,[(0,l.wy)((0,l._)("input",{type:"radio",id:"boy",value:"男","onUpdate:modelValue":a[3]||(a[3]=e=>r.gender=e),name:"gender"},null,512),[[i.G2,r.gender]]),S]),(0,l._)("div",H,[(0,l.wy)((0,l._)("input",{type:"radio",id:"girl",value:"女","onUpdate:modelValue":a[4]||(a[4]=e=>r.gender=e),name:"gender"},null,512),[[i.G2,r.gender]]),F]),(0,l._)("div",N,[(0,l.wy)((0,l._)("input",{type:"radio",id:"others",value:"其他","onUpdate:modelValue":a[5]||(a[5]=e=>r.gender=e),name:"gender"},null,512),[[i.G2,r.gender]]),Z])]),(0,l._)("li",null,[B,(0,l.wy)((0,l._)("input",{class:"inputText",type:"text","onUpdate:modelValue":a[6]||(a[6]=e=>r.phone=e),name:"phone"},null,512),[[i.nr,r.phone,void 0,{trim:!0}]])]),(0,l._)("li",V,[L,(0,l._)("div",M,[(0,l._)("div",A,[(0,l.wy)((0,l._)("select",{name:"country",class:"county",ref:"countyInput",id:"county","onUpdate:modelValue":a[7]||(a[7]=e=>r.select.data[0].city=e),required:""},[q,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.cityNameInfo.data,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.CityName,value:e.CityName},(0,n.zw)(e.CityName),9,W)))),128))],512),[[i.bM,r.select.data[0].city]]),r.select.data[0].city?(0,l.wy)(((0,l.wg)(),(0,l.iD)("select",{key:0,name:"district",ref:"townshipInput",id:"township","onUpdate:modelValue":a[8]||(a[8]=e=>r.select.data[0].area=e),required:""},[z,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.cityNameInfo.data.find((e=>e.CityName===r.select.data[0].city)).AreaList,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.AreaName,value:e.AreaName},(0,n.zw)(e.AreaName),9,E)))),128))],512)),[[i.bM,r.select.data[0].area]]):(0,l.kq)("",!0)]),(0,l.wy)((0,l._)("input",{class:"road",type:"text","onUpdate:modelValue":a[9]||(a[9]=e=>r.road=e),name:"road"},null,512),[[i.nr,r.road,void 0,{trim:!0}]])])])]),(0,l._)("div",G,[(0,l.wy)((0,l._)("input",{type:"checkbox",id:"agreenEmail","onUpdate:modelValue":a[10]||(a[10]=e=>r.isChecked=e),name:"sub"},null,512),[[i.e8,r.isChecked]]),P])])]),(0,l._)("div",j,[(0,l._)("button",{type:"button",class:"cancel",onClick:a[11]||(a[11]=(...e)=>r.cancelFn&&r.cancelFn(...e))}," 取消 "),(0,l._)("button",{class:"save",type:"button",onClick:a[12]||(a[12]=(...e)=>r.submitFn&&r.submitFn(...e))},"更新")])],512)]))])])])}var K=t(4311),O=t(1662),Y=t(4870),J=t(9382),Q=t(460),X=t(9173),$={components:{MemberList:J.Z,Loading:Q.Z,Title:X.Z},setup(){const e=(0,l.f3)("reload"),a=(0,Y.iH)(!0),t=(0,Y.iH)(null),n=(0,Y.iH)(null),i=(0,Y.qj)({data:O}),r=(0,Y.qj)({data:[]}),s=(0,Y.iH)(),d=(0,Y.iH)(),c=(0,Y.iH)(""),o=(0,Y.iH)(),u=(0,Y.qj)({data:[{city:"",area:""}]}),p=(0,Y.iH)(""),v=(0,Y.iH)(""),m=(0,Y.iH)("");(0,l.bv)((()=>{k("token")?(d.value=_("userId"),s.value=_("userCode")):localStorage.getItem("token")&&(d.value=localStorage.getItem("userId"),s.value=localStorage.getItem("userCode")),K.Z.post("https://oceandemo.herokuapp.com/MySpringBoot/findByUserId",{userId:d.value}).then((e=>{r.data=e.data,p.value=r.data.userName,v.value=r.data.userRoad,m.value=r.data.userPhone,u.data[0].city=r.data.userCountry,u.data[0].area=r.data.userDistrict,c.value=r.data.userGender,o.value=r.data.userSub,a.value=!1}))}));const g=(e,a,t)=>{const l=new Date;l.setTime(l.getTime()+24*t*60*60*1e3);const n="expires="+l.toUTCString();document.cookie=e+"="+a+";"+n+";path=/"},_=e=>{const a=e+"=",t=document.cookie.split(";");for(let l=0;l<t.length;l++){let e=t[l];while(" "===e.charAt(0))e=e.substring(1);if(0===e.indexOf(a))return e.substring(a.length,e.length)}return""},k=e=>{const a=_(e);return""!==a},f=a=>{if(t.value.reportValidity()){const a=new FormData;a.append("id",d.value),a.append("status",r.data.userStatus),a.append("account",r.data.userAccount),a.append("name",p.value),a.append("birth",r.data.userBirth),a.append("gender",c.value),a.append("phone",m.value),a.append("country",u.data[0].city),a.append("district",u.data[0].area),a.append("road",v.value),a.append("sub",o.value);const t="https://oceandemo.herokuapp.com/MySpringBoot/updateUser";K.Z.post(t,a).then((function(a){alert("資料更新成功！"),e()}))}else a.preventDefault()},y=()=>{p.value=r.data.userName,v.value=r.data.userRoad,m.value=r.data.userPhone,u.data[0].city=r.data.userCountry,u.data[0].area=r.data.userDistrict,c.value=r.data.userGender,o.value=r.data.userSub},h=e=>{e.preventDefault(),alert("此功能維修中，若有不便，敬請見諒！")};return{userCode:s,setCookie:g,getCookie:_,checkCookie:k,userId:d,memberDatas:r,name:p,road:v,phone:m,select:u,cityNameInfo:i,gender:c,isChecked:o,form:t,submitFn:f,reload:e,nameInput:n,cancelFn:y,loading:a,alertFn:h}}},ee=t(89);const ae=(0,ee.Z)($,[["render",R],["__scopeId","data-v-79682d72"]]);var te=ae},2284:function(e,a,t){e.exports=t.p+"img/member.8abbd232.svg"}}]);
//# sourceMappingURL=403.7132a0e1.js.map