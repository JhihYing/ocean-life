"use strict";(self["webpackChunkocean_life"]=self["webpackChunkocean_life"]||[]).push([[802],{460:function(e,a,t){t.d(a,{Z:function(){return r}});var l=t(3396);const i={class:"sk-fading-circle"},n=(0,l.uE)('<div class="sk-circle1 sk-circle" data-v-044c9dad></div><div class="sk-circle2 sk-circle" data-v-044c9dad></div><div class="sk-circle3 sk-circle" data-v-044c9dad></div><div class="sk-circle4 sk-circle" data-v-044c9dad></div><div class="sk-circle5 sk-circle" data-v-044c9dad></div><div class="sk-circle6 sk-circle" data-v-044c9dad></div><div class="sk-circle7 sk-circle" data-v-044c9dad></div><div class="sk-circle8 sk-circle" data-v-044c9dad></div><div class="sk-circle9 sk-circle" data-v-044c9dad></div><div class="sk-circle10 sk-circle" data-v-044c9dad></div><div class="sk-circle11 sk-circle" data-v-044c9dad></div><div class="sk-circle12 sk-circle" data-v-044c9dad></div>',12),c=[n];function s(e,a,t,n,s,o){return(0,l.wg)(),(0,l.iD)("div",i,c)}var o={},d=t(89);const u=(0,d.Z)(o,[["render",s],["__scopeId","data-v-044c9dad"]]);var r=u},2802:function(e,a,t){t.r(a),t.d(a,{default:function(){return Q}});var l=t(3396),i=t(7139),n=t(9242);const c=e=>((0,l.dD)("data-v-526efba1"),e=e(),(0,l.Cn)(),e),s={key:0,class:"loading"},o={key:1},d=c((()=>(0,l._)("div",{class:"titleBox"},[(0,l._)("h3",null,"消息管理"),(0,l._)("span",null,"- 編輯文章")],-1))),u={ref:"form",action:"https://oceandemo.herokuapp.com/MySpringBoot/updateArticle",method:"post",enctype:"multipart/form-data"},r={class:"tableBox"},p={class:"tableContent"},v=c((()=>(0,l._)("label",{for:""},"文章編號*",-1))),m=c((()=>(0,l._)("label",{for:""},"文章類別*",-1))),k=c((()=>(0,l._)("option",{value:"活動消息"},"活動消息",-1))),_=c((()=>(0,l._)("option",{value:"園區公告"},"園區公告",-1))),f=c((()=>(0,l._)("option",{value:"商城公告"},"商城公告",-1))),g=[k,_,f],b=c((()=>(0,l._)("label",{for:""},"圖片*",-1))),y={class:"box"},w={key:0,class:"imgBox"},B=["src"],h={key:1,class:"imgBox"},H=["src"],I=c((()=>(0,l._)("label",{for:""},"標題*",-1))),x={class:"positionTop"},C=c((()=>(0,l._)("label",{for:""},"文章內容*",-1))),D={class:"positionTop"},U=c((()=>(0,l._)("label",{for:""},"注意事項",-1))),q=c((()=>(0,l._)("label",{for:""},"文章狀態*",-1))),A=c((()=>(0,l._)("option",{value:"上架"},"上架",-1))),F=c((()=>(0,l._)("option",{value:"下架"},"下架",-1))),M=[A,F],V={class:"btnBox"},Z={class:"ticket-popup"},E={class:"containerMain"},O=c((()=>(0,l._)("div",{class:"popupTop"},[(0,l._)("h3",null,"關閉視窗")],-1))),j={class:"popupUnder"},L=c((()=>(0,l._)("p",null,"尚未存檔，是否確認關閉？",-1))),N={class:"popupBtnBox"},S=c((()=>(0,l._)("button",{class:"popupOkBtn",type:"button"},"確定",-1)));function T(e,a,t,c,k,_){const f=(0,l.up)("Loading"),A=(0,l.up)("router-link");return c.loading?((0,l.wg)(),(0,l.iD)("section",s,[(0,l.Wm)(f)])):((0,l.wg)(),(0,l.iD)("section",o,[d,(0,l._)("form",u,[(0,l._)("div",r,[(0,l._)("ul",p,[(0,l._)("li",null,[v,(0,l._)("p",null,(0,i.zw)(e.$route.query.index),1)]),(0,l._)("li",null,[m,(0,l.wy)((0,l._)("select",{name:"value",id:"value","onUpdate:modelValue":a[0]||(a[0]=e=>c.valueEN=e)},g,512),[[n.bM,c.valueEN]])]),(0,l._)("li",null,[b,(0,l._)("div",y,[(0,l._)("input",{id:"customFile",class:"imgInput",type:"file",name:"file-to-upload",ref:"fileInput",onChange:a[1]||(a[1]=(...e)=>c.fileChange&&c.fileChange(...e))},null,544),c.imageOpen?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",w,[(0,l._)("img",{src:c.images},null,8,B)])),c.imageOpen?((0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("img",{src:"data:image/png;base64,"+c.imagesAxios},null,8,H)])):(0,l.kq)("",!0)])]),(0,l._)("li",null,[I,(0,l.wy)((0,l._)("input",{required:"",type:"text",name:"title",id:"title",ref:"titleInput","onUpdate:modelValue":a[2]||(a[2]=e=>c.title=e)},null,512),[[n.nr,c.title,void 0,{trim:!0}]])]),(0,l._)("li",x,[C,(0,l.wy)((0,l._)("textarea",{required:"",name:"content",id:"content",ref:"contentInput","onUpdate:modelValue":a[3]||(a[3]=e=>c.content=e)},null,512),[[n.nr,c.content,void 0,{trim:!0}]])]),(0,l._)("li",D,[U,(0,l.wy)((0,l._)("textarea",{name:"remark",id:"remark",ref:"remarkInput","onUpdate:modelValue":a[4]||(a[4]=e=>c.remark=e)},null,512),[[n.nr,c.remark,void 0,{trim:!0}]])]),(0,l._)("li",null,[q,(0,l.wy)((0,l._)("select",{name:"status",id:"status","onUpdate:modelValue":a[5]||(a[5]=e=>c.status=e)},M,512),[[n.bM,c.status]])])]),(0,l._)("div",V,[(0,l._)("button",{type:"button",class:"cancelBtn allBtn",onClick:a[6]||(a[6]=e=>c.popupBtn=!c.popupBtn)}," 取消 "),(0,l.Wm)(A,{to:"/backend/newsbackend/news"},{default:(0,l.w5)((()=>[(0,l._)("button",{type:"submit",class:"addBtn allBtn",onClick:a[7]||(a[7]=(...e)=>c.submitFn&&c.submitFn(...e))}," 更新 ")])),_:1})])])],512),(0,l.wy)((0,l._)("main",Z,[(0,l._)("div",E,[O,(0,l._)("div",j,[L,(0,l._)("div",N,[(0,l._)("button",{class:"popupCloseBtn",type:"button",onClick:a[8]||(a[8]=e=>c.popupBtn=!c.popupBtn)}," 取消 "),(0,l.Wm)(A,{to:"/backend/newsbackend/news"},{default:(0,l.w5)((()=>[S])),_:1})])])])],512),[[n.F8,c.popupBtn]])]))}var R=t(4311),W=t(2483),z=t(4870),G=t(460),J={components:{Loading:G.Z},setup(){const e=(0,W.yj)(),a=(0,z.iH)(!0),t=(0,l.f3)("reload"),i=(0,z.iH)(!0),n=(0,z.iH)(""),c=(0,z.iH)(""),s=(0,z.qj)({data:[]}),o=(0,z.iH)(!1),d=(0,z.iH)(null),u=(0,z.iH)(null),r=(0,z.iH)(null),p=(0,z.iH)(null),v=(0,z.iH)(null),m=(0,z.iH)(""),k=(0,z.iH)(""),_=(0,z.iH)(""),f=(0,z.iH)(""),g=(0,z.iH)("");(0,l.bv)((()=>{R.Z.post("https://oceandemo.herokuapp.com/MySpringBoot/findArticleByArticleID",{articleID:b()}).then((e=>{s.data=e.data,m.value=e.data.articleTitle,k.value=e.data.articleContent.replace(/<br>/g,"\n"),_.value=e.data.articleRemark.replace(/<br>/g,"\n"),f.value=e.data.articleStatus,g.value=e.data.valueEN,n.value=e.data.articleImg,a.value=!1}))}));const b=()=>e.query.id,y=e=>{if(v.value.reportValidity()){const e=d.value.files[0],a=$("#value").val(),l=$("#title").val(),i=$("#content").val(),n=$("#remark").val(),c=$("#status").val(),s=new FormData;s.append("id",b()),s.append("value",a),s.append("file-to-upload",e),s.append("title",l),s.append("content",i),s.append("remark",n),s.append("status",c);const o="https://oceandemo.herokuapp.com/MySpringBoot/updateArticle";R.Z.post(o,s).then((function(e){t()})).catch((function(e){console.log(e)}))}else e.preventDefault()},w=()=>{const e=d.value.files[0],a=window.URL.createObjectURL(e,{type:"image/jpeg"});c.value=a,i.value=!1};return{form:v,newsData:s,getId:b,popupBtn:o,fileInput:d,images:c,submitFn:y,titleInput:u,contentInput:r,remarkInput:p,fileChange:w,imageOpen:i,imagesAxios:n,reload:t,title:m,content:k,remark:_,status:f,valueEN:g,loading:a}}},K=t(89);const P=(0,K.Z)(J,[["render",T],["__scopeId","data-v-526efba1"]]);var Q=P}}]);
//# sourceMappingURL=802.3e2a4eb6.js.map