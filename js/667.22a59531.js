"use strict";(self["webpackChunkocean_life"]=self["webpackChunkocean_life"]||[]).push([[667],{460:function(t,e,a){a.d(e,{Z:function(){return p}});var i=a(3396);const l={class:"sk-fading-circle"},n=(0,i.uE)('<div class="sk-circle1 sk-circle" data-v-044c9dad></div><div class="sk-circle2 sk-circle" data-v-044c9dad></div><div class="sk-circle3 sk-circle" data-v-044c9dad></div><div class="sk-circle4 sk-circle" data-v-044c9dad></div><div class="sk-circle5 sk-circle" data-v-044c9dad></div><div class="sk-circle6 sk-circle" data-v-044c9dad></div><div class="sk-circle7 sk-circle" data-v-044c9dad></div><div class="sk-circle8 sk-circle" data-v-044c9dad></div><div class="sk-circle9 sk-circle" data-v-044c9dad></div><div class="sk-circle10 sk-circle" data-v-044c9dad></div><div class="sk-circle11 sk-circle" data-v-044c9dad></div><div class="sk-circle12 sk-circle" data-v-044c9dad></div>',12),c=[n];function d(t,e,a,n,d,s){return(0,i.wg)(),(0,i.iD)("div",l,c)}var s={},o=a(89);const u=(0,o.Z)(s,[["render",d],["__scopeId","data-v-044c9dad"]]);var p=u},2667:function(t,e,a){a.r(e),a.d(e,{default:function(){return K}});var i=a(3396),l=a(7139),n=a(9242);const c=t=>((0,i.dD)("data-v-79e32e72"),t=t(),(0,i.Cn)(),t),d={key:0,class:"loading"},s={key:1},o=c((()=>(0,i._)("div",{class:"titleBox"},[(0,i._)("h3",null,"活動管理"),(0,i._)("span",null,"- 編輯活動")],-1))),u={ref:"form",action:"https://oceandemo.herokuapp.com/MySpringBoot/updateActivity",method:"post",enctype:"multipart/form-data"},p={class:"tableBox"},r={class:"tableContent"},v=c((()=>(0,i._)("label",{for:""},"活動編號",-1))),m=c((()=>(0,i._)("label",{for:""},"圖片*",-1))),k={class:"box"},_={key:0,class:"imgBox"},f=["src"],y={key:1,class:"imgBox"},g=["src"],b=c((()=>(0,i._)("label",{for:""},"標題*",-1))),B={class:"positionTop"},w=c((()=>(0,i._)("label",{for:""},"活動介紹*",-1))),h=c((()=>(0,i._)("label",{for:""},"表演日期*",-1))),I=c((()=>(0,i._)("label",{for:""},"表演時間*",-1))),H={class:"positionTop"},x=c((()=>(0,i._)("label",{for:""},"注意事項",-1))),C=c((()=>(0,i._)("label",{for:""},"活動狀態*",-1))),D=c((()=>(0,i._)("option",{value:"上架"},"上架",-1))),q=c((()=>(0,i._)("option",{value:"下架"},"下架",-1))),U=[D,q],V={class:"btnBox"},F={class:"ticket-popup"},Z={class:"containerMain"},A=c((()=>(0,i._)("div",{class:"popupTop"},[(0,i._)("h3",null,"關閉視窗")],-1))),M={class:"popupUnder"},O=c((()=>(0,i._)("p",null,"尚未存檔，是否確認關閉？",-1))),T={class:"popupBtnBox"},j=c((()=>(0,i._)("button",{class:"popupOkBtn",type:"button"},"確定",-1)));function L(t,e,a,c,D,q){const $=(0,i.up)("Loading"),L=(0,i.up)("router-link");return c.loading?((0,i.wg)(),(0,i.iD)("section",d,[(0,i.Wm)($)])):((0,i.wg)(),(0,i.iD)("section",s,[o,(0,i._)("form",u,[(0,i._)("div",p,[(0,i._)("ul",r,[(0,i._)("li",null,[v,(0,i._)("p",null,(0,l.zw)(t.$route.query.index),1)]),(0,i._)("li",null,[m,(0,i._)("div",k,[(0,i._)("input",{id:"customFile",class:"imgInput",type:"file",name:"file-to-upload",ref:"fileInput",onChange:e[0]||(e[0]=(...t)=>c.fileChange&&c.fileChange(...t))},null,544),c.imageOpen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",_,[(0,i._)("img",{src:c.images},null,8,f)])),c.imageOpen?((0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("img",{src:"data:image/png;base64,"+c.imagesAxios},null,8,g)])):(0,i.kq)("",!0)])]),(0,i._)("li",null,[b,(0,i.wy)((0,i._)("input",{required:"",type:"text",name:"title",id:"title",ref:"titleInput","onUpdate:modelValue":e[1]||(e[1]=t=>c.title=t)},null,512),[[n.nr,c.title,void 0,{trim:!0}]])]),(0,i._)("li",B,[w,(0,i.wy)((0,i._)("textarea",{required:"",name:"content",id:"content",ref:"contentInput","onUpdate:modelValue":e[2]||(e[2]=t=>c.content=t)},null,512),[[n.nr,c.content,void 0,{trim:!0}]])]),(0,i._)("li",null,[h,(0,i.wy)((0,i._)("input",{required:"",type:"text",name:"date",id:"date",ref:"dateInput","onUpdate:modelValue":e[3]||(e[3]=t=>c.date=t)},null,512),[[n.nr,c.date]])]),(0,i._)("li",null,[I,(0,i.wy)((0,i._)("input",{required:"",type:"text",name:"time",id:"time",ref:"timeInput","onUpdate:modelValue":e[4]||(e[4]=t=>c.time=t)},null,512),[[n.nr,c.time]])]),(0,i._)("li",H,[x,(0,i.wy)((0,i._)("textarea",{name:"remark",id:"remark",ref:"remarkInput","onUpdate:modelValue":e[5]||(e[5]=t=>c.remark=t)},null,512),[[n.nr,c.remark,void 0,{trim:!0}]])]),(0,i._)("li",null,[C,(0,i.wy)((0,i._)("select",{name:"status",id:"status","onUpdate:modelValue":e[6]||(e[6]=t=>c.status=t)},U,512),[[n.bM,c.status]])])]),(0,i._)("div",V,[(0,i._)("button",{type:"button",class:"cancelBtn allBtn",onClick:e[7]||(e[7]=t=>c.popupBtn=!c.popupBtn)}," 取消 "),(0,i.Wm)(L,{to:"/backend/activityBackend/activity"},{default:(0,i.w5)((()=>[(0,i._)("button",{type:"submit",class:"addBtn allBtn",onClick:e[8]||(e[8]=(...t)=>c.submitFn&&c.submitFn(...t))}," 更新 ")])),_:1})])])],512),(0,i.wy)((0,i._)("main",F,[(0,i._)("div",Z,[A,(0,i._)("div",M,[O,(0,i._)("div",T,[(0,i._)("button",{class:"popupCloseBtn",type:"button",onClick:e[9]||(e[9]=t=>c.popupBtn=!c.popupBtn)}," 取消 "),(0,i.Wm)(L,{to:"/backend/activityBackend/activity"},{default:(0,i.w5)((()=>[j])),_:1})])])])],512),[[n.F8,c.popupBtn]])]))}var S=a(4311),R=a(2483),W=a(4870),z=a(460),E={components:{Loading:z.Z},setup(){const t=(0,W.iH)(!0),e=(0,R.yj)(),a=(0,i.f3)("reload"),l=(0,W.iH)(!0),n=(0,W.iH)(""),c=(0,W.iH)(""),d=(0,W.qj)({data:[]}),s=(0,W.iH)(!1),o=(0,W.iH)(null),u=(0,W.iH)(null),p=(0,W.iH)(null),r=(0,W.iH)(null),v=(0,W.iH)(null),m=(0,W.iH)(null),k=(0,W.iH)(null),_=(0,W.iH)(""),f=(0,W.iH)(""),y=(0,W.iH)(""),g=(0,W.iH)(""),b=(0,W.iH)(""),B=(0,W.iH)("");(0,i.bv)((()=>{S.Z.post("https://oceandemo.herokuapp.com/MySpringBoot/findByActivityID",{activityID:w()}).then((e=>{d.data=e.data,_.value=e.data.activityTitle,f.value=e.data.activityContent.replace(/<br>/g,"\n"),y.value=e.data.activityRemark.replace(/<br>/g,"\n"),g.value=e.data.activityStatus,b.value=e.data.activityDate,B.value=e.data.activityTime,n.value=e.data.activityImg,t.value=!1}))}));const w=()=>e.query.id,h=t=>{if(k.value.reportValidity()){const t=p.value.files[0],e=$("#title").val(),i=$("#content").val(),l=$("#remark").val(),n=$("#status").val(),c=$("#date").val(),d=$("#time").val(),s=new FormData;s.append("id",w()),s.append("file-to-upload",t),s.append("title",e),s.append("content",i),s.append("remark",l),s.append("status",n),s.append("date",c),s.append("time",d);const o="https://oceandemo.herokuapp.com/MySpringBoot/updateActivity";S.Z.post(o,s).then((function(t){a()})).catch((function(t){console.log(t)}))}else t.preventDefault()},I=()=>{const t=p.value.files[0],e=window.URL.createObjectURL(t,{type:"image/jpeg"});c.value=e,l.value=!1};return{activityDatas:d,getId:w,popupBtn:s,fileInput:p,images:c,submitFn:h,titleInput:r,contentInput:v,remarkInput:m,fileChange:I,imageOpen:l,form:k,imagesAxios:n,reload:a,dateInput:o,timeInput:u,title:_,content:f,remark:y,status:g,date:b,time:B,loading:t}}},G=a(89);const J=(0,G.Z)(E,[["render",L],["__scopeId","data-v-79e32e72"]]);var K=J}}]);
//# sourceMappingURL=667.22a59531.js.map