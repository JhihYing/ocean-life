"use strict";(self["webpackChunkocean_life"]=self["webpackChunkocean_life"]||[]).push([[57],{9057:function(e,t,l){l.r(t),l.d(t,{default:function(){return _e}});var n=l(3396),a=l(7139),i=l(9242);const p=e=>((0,n.dD)("data-v-789c7b22"),e=e(),(0,n.Cn)(),e),u=p((()=>(0,n._)("div",{class:"titleBox"},[(0,n._)("h3",null,"商品管理"),(0,n._)("span",null,"- 新增商品")],-1))),o={ref:"form",action:"https://oceandemo.herokuapp.com/MySpringBoot/addProduct",method:"post",enctype:"multipart/form-data"},s={class:"tableBox"},r={class:"tableContent"},d=p((()=>(0,n._)("label",{for:""},"商品編號",-1))),c=p((()=>(0,n._)("label",{for:""},"圖片*",-1))),m={class:"imageBox"},_=p((()=>(0,n._)("p",null,"※ 上傳數量以六張為限，第一張為首圖，請依序上傳",-1))),f={class:"showImgBox"},v=["src","title"],b=p((()=>(0,n._)("label",{for:""},"名稱*",-1))),I={type:"text",name:"name",id:"title",ref:"titleInput",required:""},B={class:"box priceBox"},y=p((()=>(0,n._)("label",{class:"price",for:""},"原價*",-1))),g={type:"text",name:"price",id:"price",ref:"priceInput",required:""},k={class:"box"},x=p((()=>(0,n._)("label",{for:""},"售價",-1))),h={type:"text",name:"priceSale",id:"salePrice",ref:"salePriceInput"},w={class:"specLi"},H=p((()=>(0,n._)("label",{for:""},"規格/庫存*",-1))),q={class:"specNumSection"},C={class:"specBox"},D=["onUpdate:modelValue"],z=p((()=>(0,n._)("span",null,"規格",-1))),M={class:"numBox"},L=["onUpdate:modelValue"],S=p((()=>(0,n._)("span",null,"庫存",-1))),F=["onClick"],P=p((()=>(0,n._)("h3",{class:"productInfo"},"商品詳情",-1))),U={class:"tableBox"},V={class:"tableContent"},j={class:"positionTop"},A=p((()=>(0,n._)("label",{for:""},"說明*",-1))),T={name:"content",id:"content",ref:"contentInput",required:""},Y=p((()=>(0,n._)("label",{for:""},"材質*",-1))),K={type:"text",name:"meterial",id:"material",ref:"materialInput",required:""},N={class:"box priceBox"},R=p((()=>(0,n._)("label",{for:""},"尺寸*",-1))),W={type:"text",name:"size",id:"size",ref:"sizeInput",required:""},Z={class:"box"},O=p((()=>(0,n._)("label",{for:""},"產地*",-1))),E={type:"text",name:"mf",id:"made",ref:"madeInput",required:""},G={class:"positionTop"},J=p((()=>(0,n._)("label",{for:""},"注意事項",-1))),Q={name:"remark",id:"remark",ref:"remarkInput"},X=p((()=>(0,n._)("li",null,[(0,n._)("label",{for:""},"商品狀態*"),(0,n._)("select",{name:"status",id:"status"},[(0,n._)("option",{value:"上架"},"上架"),(0,n._)("option",{value:"下架"},"下架")])],-1))),ee={class:"btnBox"},te={class:"ticket-popup"},le={class:"containerMain"},ne=p((()=>(0,n._)("div",{class:"popupTop"},[(0,n._)("h3",null,"關閉視窗")],-1))),ae={class:"popupUnder"},ie=p((()=>(0,n._)("p",null,"尚未存檔，是否確認關閉？",-1))),pe={class:"popupBtnBox"},ue=p((()=>(0,n._)("button",{class:"popupOkBtn",type:"button"},"確定",-1)));function oe(e,t,l,p,$,oe){const se=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[u,(0,n._)("form",o,[(0,n._)("div",s,[(0,n._)("ul",r,[(0,n._)("li",null,[d,(0,n._)("p",null,(0,a.zw)(e.$route.query.id),1)]),(0,n._)("li",null,[c,(0,n._)("div",m,[(0,n._)("input",{type:"file",class:"imgInput",name:"file-to-upload",ref:"fileInput",multiple:"",onChange:t[0]||(t[0]=(...e)=>p.previewMultiImage&&p.previewMultiImage(...e))},null,544),_,(0,n._)("div",f,[p.previewList.data.length?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(p.previewList.data,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"imgBox",key:t},[(0,n._)("img",{class:"showImg",src:e,title:p.imageList.data[t].name},null,8,v)])))),128)):(0,n.kq)("",!0)])])]),(0,n._)("li",null,[b,(0,n._)("input",I,null,512)]),(0,n._)("li",null,[(0,n._)("div",B,[y,(0,n._)("input",g,null,512)]),(0,n._)("div",k,[x,(0,n._)("input",h,null,512)])]),(0,n._)("li",w,[H,(0,n._)("div",q,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(p.specItems.data,((e,l)=>((0,n.wg)(),(0,n.iD)("div",{class:"specNumBox",key:l},[(0,n._)("div",C,[(0,n.wy)((0,n._)("input",{class:"spec",type:"text",name:"type",id:"type",ref_for:!0,ref:"typeInput","onUpdate:modelValue":e=>p.specItems.data[l]=e,onInput:t[1]||(t[1]=(...e)=>p.inp&&p.inp(...e)),required:""},null,40,D),[[i.nr,p.specItems.data[l],void 0,{trim:!0}]]),z]),(0,n._)("div",M,[(0,n.wy)((0,n._)("input",{type:"text",name:"num",id:"num",ref_for:!0,ref:"numInput","onUpdate:modelValue":e=>p.numItems.data[l]=e,required:""},null,8,L),[[i.nr,p.numItems.data[l],void 0,{trim:!0}]]),S]),(0,n._)("span",null,(0,a.zw)(l+1)+"/5",1),(0,n._)("button",{type:"button",class:"minusBtn",onClick:e=>p.onMinus(l)}," - ",8,F)])))),128)),(0,n._)("button",{type:"button",class:"addBtn",onClick:t[2]||(t[2]=(...e)=>p.onAdd&&p.onAdd(...e))},"+")])])])]),P,(0,n._)("div",U,[(0,n._)("ul",V,[(0,n._)("li",j,[A,(0,n._)("textarea",T,null,512)]),(0,n._)("li",null,[Y,(0,n._)("input",K,null,512)]),(0,n._)("li",null,[(0,n._)("div",N,[R,(0,n._)("input",W,null,512)]),(0,n._)("div",Z,[O,(0,n._)("input",E,null,512)])]),(0,n._)("li",G,[J,(0,n._)("textarea",Q,null,512)]),X]),(0,n._)("div",ee,[(0,n._)("button",{type:"button",class:"cancelBtn allBtn",onClick:t[3]||(t[3]=e=>p.popupBtn=!p.popupBtn)}," 取消 "),(0,n.Wm)(se,{to:"/backend/onlineBackend/online/product"},{default:(0,n.w5)((()=>[(0,n._)("button",{type:"submit",class:"addBtn allBtn",onClick:t[4]||(t[4]=(...e)=>p.submitFn&&p.submitFn(...e))}," 新增 ")])),_:1})])])],512),(0,n.wy)((0,n._)("main",te,[(0,n._)("div",le,[ne,(0,n._)("div",ae,[ie,(0,n._)("div",pe,[(0,n._)("button",{class:"popupCloseBtn",type:"button",onClick:t[5]||(t[5]=e=>p.popupBtn=!p.popupBtn)}," 取消 "),(0,n.Wm)(se,{to:"/backend/onlineBackend/online/product"},{default:(0,n.w5)((()=>[ue])),_:1})])])])],512),[[i.F8,p.popupBtn]])],64)}l(7658);var se=l(4311),re=l(4870),de={setup(){const e=(0,re.qj)({data:[]}),t=(0,re.qj)({data:[]}),l=(0,re.qj)({data:[]}),a=(0,re.qj)({data:[]}),i=(0,n.f3)("reload"),p=(0,re.iH)(!1),u=(0,re.iH)(""),o=(0,re.iH)(null),s=(0,re.iH)(null),r=(0,re.iH)(null),d=(0,re.iH)(null),c=(0,re.iH)(null),m=(0,re.iH)(null),_=(0,re.iH)(null),f=(0,re.iH)(null),v=(0,re.iH)(null),b=(0,re.iH)(null),I=(0,re.iH)(null),B=(0,re.iH)(null),y=l=>{if(B.value.reportValidity()){const l=$("#title").val(),n=$("#price").val(),p=$("#salePrice").val(),u=$("#content").val(),o=$("#material").val(),B=$("#size").val(),y=$("#made").val(),g=$("#remark").val(),k=$("#status").val(),x=new FormData;for(let e=0;e<a.data.length;e++)x.append("file-to-upload",a.data[e]);x.append("name",l),x.append("price",n),x.append("priceSale",p),x.append("type",e.data.toString()),x.append("num",t.data.toString()),x.append("content",u),x.append("meterial",o),x.append("size",B),x.append("mf",y),x.append("remark",g),x.append("status",k);const h="https://oceandemo.herokuapp.com/MySpringBoot/addProduct";se.Z.post(h,x).then((function(e){s.value="",r.value="",d.value="",c.value="",m.value="",_.value="",f.value="",v.value="",b.value="",I.value="",i()})).catch((function(e){console.log(e)}))}else l.preventDefault()},g=e=>{const t=e.target;let n=t.files.length,i=0;if(t.files)while(n--){const e=new FileReader;e.onload=e=>{l.data.length<6&&l.data.push(e.target.result)},a.data.push(t.files[i]),e.readAsDataURL(t.files[i]),i++}},k=()=>{e.data.length<5?e.data.push(""):alert("以達到上限")},x=l=>{e.data.splice(l,1),t.data.splice(l,1)},h=()=>{};return{typeInput:c,inp:h,specItems:e,onAdd:k,fileInput:o,priceInput:r,salePriceInput:d,numInput:m,contentInput:_,materialInput:f,sizeInput:v,madeInput:b,remarkInput:I,previewMultiImage:g,previewList:l,imageList:a,popupBtn:p,images:u,submitFn:y,reload:i,numItems:t,form:B,onMinus:x}}},ce=l(89);const me=(0,ce.Z)(de,[["render",oe],["__scopeId","data-v-789c7b22"]]);var _e=me}}]);
//# sourceMappingURL=57.48cc245d.js.map