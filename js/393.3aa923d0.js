"use strict";(self["webpackChunkocean_life"]=self["webpackChunkocean_life"]||[]).push([[393],{460:function(e,a,t){t.d(a,{Z:function(){return u}});var l=t(3396);const n={class:"sk-fading-circle"},c=(0,l.uE)('<div class="sk-circle1 sk-circle" data-v-044c9dad></div><div class="sk-circle2 sk-circle" data-v-044c9dad></div><div class="sk-circle3 sk-circle" data-v-044c9dad></div><div class="sk-circle4 sk-circle" data-v-044c9dad></div><div class="sk-circle5 sk-circle" data-v-044c9dad></div><div class="sk-circle6 sk-circle" data-v-044c9dad></div><div class="sk-circle7 sk-circle" data-v-044c9dad></div><div class="sk-circle8 sk-circle" data-v-044c9dad></div><div class="sk-circle9 sk-circle" data-v-044c9dad></div><div class="sk-circle10 sk-circle" data-v-044c9dad></div><div class="sk-circle11 sk-circle" data-v-044c9dad></div><div class="sk-circle12 sk-circle" data-v-044c9dad></div>',12),i=[c];function d(e,a,t,c,d,s){return(0,l.wg)(),(0,l.iD)("div",n,i)}var s={},o=t(89);const r=(0,o.Z)(s,[["render",d],["__scopeId","data-v-044c9dad"]]);var u=r},5692:function(e,a,t){t.d(a,{Z:function(){return C}});var l=t(3396),n=t(7139),c=t(9242),i=t(6973),d=t(2824);const s=e=>((0,l.dD)("data-v-cac73ef0"),e=e(),(0,l.Cn)(),e),o={class:"paginationBox"},r={class:"pagination"},u=s((()=>(0,l._)("img",{src:i,alt:""},null,-1))),v=[u],p={key:0,class:"dot"},g={class:"pageItemBox"},k=["onClick"],h={key:1,class:"dot"},_=s((()=>(0,l._)("img",{src:d,alt:""},null,-1))),f=[_],y={class:"goBox"};function b(e,a,t,i,d,s){return(0,l.wg)(),(0,l.iD)("section",o,[(0,l._)("div",r,[(0,l._)("div",{class:(0,n.C_)(["preBtn arrowBtn",{disabled:1===i.currentPage}]),onClick:a[0]||(a[0]=e=>i.changePage(!1))},v,2),i.currentPage>3?((0,l.wg)(),(0,l.iD)("span",p,"...")):(0,l.kq)("",!0),(0,l._)("ul",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.listShow,(e=>((0,l.wg)(),(0,l.iD)("li",{class:(0,n.C_)(["pageItem",{active:i.currentPage===e}]),key:e,onClick:a=>i.changePage(e)},(0,n.zw)(e),11,k)))),128))]),i.currentPage<i.pages-2?((0,l.wg)(),(0,l.iD)("span",h,"...")):(0,l.kq)("",!0),(0,l._)("div",{class:(0,n.C_)(["nextBtn arrowBtn",{disabled:i.currentPage===i.pages}]),onClick:a[1]||(a[1]=e=>i.changePage(!0))},f,2)]),(0,l._)("div",y,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>i.skipNum=e),onKeyup:a[3]||(a[3]=(0,c.D2)(((...e)=>i.goPage&&i.goPage(...e)),["enter"]))},null,544),[[c.nr,i.skipNum,void 0,{number:!0}]]),(0,l._)("button",{type:"button",onClick:a[4]||(a[4]=(...e)=>i.goPage&&i.goPage(...e))},"Go")])])}t(7658);var w=t(4870),m={props:{total:{type:Number},pagesize:{type:Number},keyWord:{type:String,Number:Number,default:""},keyWordFinish:{type:String,Number:Number,default:""}},setup(e,{emit:a,attrs:t}){const n=(0,w.iH)(),c=(0,w.iH)(t.currentPage),i=(0,l.Fl)((()=>Math.ceil(e.total/e.pagesize))),d=(0,l.Fl)((()=>{const e=[];if(i.value<=5)for(let a=1;a<=i.value;a++)e.push(a);else if(c.value<=2)for(let a=1;a<=5;a++)e.push(a);else if(c.value>=3&&c.value<=i.value-2)for(let a=c.value-2;a<=c.value+2;a++)e.push(a);else if(c.value>i.value-2)for(let a=i.value-4;a<=i.value;a++)e.push(a);return e})),s=e=>{if(!1===e){if(c.value<=1)return;c.value-=1}else if(!0===e){if(c.value>=i.value)return;c.value+=1}else c.value=e;a("change-page",c.value)},o=()=>{"number"!==typeof n.value?(alert("請填入數值"),n.value=""):n.value>i.value?(alert("查無此頁碼，請重新輸入"),n.value=""):n.value<1?(alert("請輸入正確頁碼"),n.value=""):(c.value=n.value,a("change-page",n.value),n.value="")};return(0,l.YP)((()=>e.keyWordFinish),(a=>{e.keyWordFinish,s(1)})),(0,l.YP)((()=>e.keyWord),(a=>{""===e.keyWord&&s(1)})),{currentPage:c,pages:i,listShow:d,changePage:s,goPage:o,skipNum:n,props:e}}},P=t(89);const B=(0,P.Z)(m,[["render",b],["__scopeId","data-v-cac73ef0"]]);var C=B},393:function(e,a,t){t.r(a),t.d(a,{default:function(){return z}});var l=t(3396),n=t(9242),c=t(7139);const i=e=>((0,l.dD)("data-v-39a90306"),e=e(),(0,l.Cn)(),e),d={key:0,class:"loading"},s={key:1},o={class:"titleBox"},r=i((()=>(0,l._)("h3",null,"商品管理",-1))),u={class:"textBox"},v={class:"editorBox"},p={class:"infoBox"},g={class:"searchBox"},k={class:"tableBox"},h={class:"memberTable"},_=i((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",null,"商品編號"),(0,l._)("th",{class:"title"},"名稱"),(0,l._)("th",null,"原價"),(0,l._)("th",null,"售價"),(0,l._)("th",null,"上架日期"),(0,l._)("th",null,"最後更新時間"),(0,l._)("th",null,"商品狀態"),(0,l._)("th")])],-1))),f=["onClick"],y=i((()=>(0,l._)("button",{type:"bttton",class:"editorBtn"},"編輯",-1)));function b(e,a,t,i,b,w){const m=(0,l.up)("Loading"),P=(0,l.up)("router-link"),B=(0,l.up)("Pagination");return i.loading?((0,l.wg)(),(0,l.iD)("section",d,[(0,l.Wm)(m)])):((0,l.wg)(),(0,l.iD)("section",s,[(0,l._)("div",o,[r,(0,l._)("div",u,[(0,l._)("div",v,[(0,l.wy)((0,l._)("button",{type:"bttton",class:"cancelBtn",onClick:a[0]||(a[0]=(...e)=>i.deleteInfo&&i.deleteInfo(...e))}," 刪除 ",512),[[n.F8,i.editorBtn]]),(0,l.wy)((0,l._)("button",{type:"bttton",class:"okBtn",onClick:a[1]||(a[1]=(...e)=>i.finish&&i.finish(...e))}," 完成 ",512),[[n.F8,i.editorBtn]]),(0,l.wy)((0,l._)("button",{type:"button",class:"allEditorBtn",onClick:a[2]||(a[2]=e=>i.editorBtn=!i.editorBtn)}," 編輯 ",512),[[n.F8,!i.editorBtn]]),(0,l.Wm)(P,{class:"addBtn",to:{path:"/backend/onlineBackend/online/add",query:{id:i.dataLength+1}}},{default:(0,l.w5)((()=>[(0,l.Uk)("+ 新增商品")])),_:1},8,["to"])]),(0,l._)("div",p,[(0,l._)("p",null,[(0,l.Uk)(" 共有 "),(0,l._)("span",null,(0,c.zw)(i.dataLength)+"項",1),(0,l.Uk)(" 商品 ")]),(0,l._)("div",g,[(0,l.wy)((0,l._)("input",{type:"serch",placeholder:"商品名稱","onUpdate:modelValue":a[3]||(a[3]=e=>i.keyWord=e),onKeyup:a[4]||(a[4]=(0,n.D2)(((...e)=>i.goSearch&&i.goSearch(...e)),["enter"]))},null,544),[[n.nr,i.keyWord,void 0,{lazy:!0,trim:!0}]]),(0,l._)("button",{class:"searchBtn",type:"button",onClick:a[5]||(a[5]=(...e)=>i.goSearch&&i.goSearch(...e))})])])])]),(0,l._)("div",k,[(0,l._)("table",h,[_,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.lists,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.productId},[(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{class:"check",type:"checkbox",onClick:a=>i.getID(a,e.productId)},null,8,f),[[n.F8,i.editorBtn]])]),(0,l._)("td",null,(0,c.zw)((i.currentPage-1)*i.pagesize+a+1),1),(0,l._)("td",null,(0,c.zw)(e.productName),1),(0,l._)("td",null,(0,c.zw)(e.productPrice),1),(0,l._)("td",null,(0,c.zw)(e.productPriceSale),1),(0,l._)("td",null,(0,c.zw)(e.createDate),1),(0,l._)("td",null,(0,c.zw)(e.updateDate),1),(0,l._)("td",null,[(0,l._)("button",{type:"bttton",class:(0,c.C_)(["stateBtn",{off:"下架"==e.productStatus}])},(0,c.zw)(e.productStatus),3)]),(0,l._)("td",null,[(0,l.Wm)(P,{to:{path:"/backend/onlineBackend/online/editor",query:{id:e.productId,index:(i.currentPage-1)*i.pagesize+a+1}}},{default:(0,l.w5)((()=>[y])),_:2},1032,["to"])])])))),128))])])]),(0,l.Wm)(B,{total:i.dataLength,pagesize:i.pagesize,currentPage:i.currentPage,onChangePage:i.newlist,keyWord:i.keyWord,keyWordFinish:i.keyWordFinish},null,8,["total","pagesize","currentPage","onChangePage","keyWord","keyWordFinish"])]))}t(7658);var w=t(4311),m=t(5692),P=t(460),B=t(4870),C={components:{Pagination:m.Z,Loading:P.Z},setup(){const e=(0,B.iH)(!0),a=(0,l.f3)("reload"),t=(0,B.iH)(1),n=(0,B.iH)(10),c=(0,B.qj)({data:[]}),i=(0,B.qj)({data:[]}),d=(0,B.iH)(!1),s=(0,B.iH)(""),o=(0,B.iH)(""),r=(0,B.iH)(""),u=(0,B.qj)([]);(0,l.bv)((()=>{w.Z.get("https://oceandemo.herokuapp.com/MySpringBoot/productPage").then((a=>{const t=Object.values(a.data);c.data=t,r.value=c.data.length,e.value=!1}))}));const v=(0,l.Fl)((()=>""===o.value||""===s.value?c.data.slice((t.value-1)*n.value,t.value*n.value):i.data.slice((t.value-1)*n.value,t.value*n.value)));i.data=(0,l.Fl)((()=>{const e=o.value.split(" "),a=[];return e.forEach((e=>{c.data.forEach((t=>{t.productName.includes(e)&&a.push(t)}))})),[...new Set(a)]})),(0,l.YP)((()=>s.value),(e=>{""===s.value&&(r.value=c.data.length)}));const p=e=>{t.value=e},g=()=>{""===s.value?(r.value=c.data.length,o.value=""):(o.value=s.value,r.value=i.data.length)},k=()=>{d.value=!d.value,$(".check").prop("checked",!1)},h=()=>{w.Z.post(`https://oceandemo.herokuapp.com/MySpringBoot/deleteProduct?idList=${u}`).then((function(e){a()})).catch((function(e){console.log(e)}))},_=(e,a)=>{e.target.checked?u.push(a):u.map(((e,t)=>(e===a&&u.splice(t,1),u)))};return{getID:_,finish:k,productDatas:c,lists:v,currentPage:t,pagesize:n,newlist:p,editorBtn:d,keyWord:s,keyWordFinish:o,dataLength:r,goSearch:g,filterDatas:i,idInfo:u,deleteInfo:h,reload:a,loading:e}}},D=t(89);const W=(0,D.Z)(C,[["render",b],["__scopeId","data-v-39a90306"]]);var z=W},2824:function(e,a,t){e.exports=t.p+"img/nextIcon.ffda41ec.svg"},6973:function(e,a,t){e.exports=t.p+"img/preIcon.96e3ab49.svg"}}]);
//# sourceMappingURL=393.3aa923d0.js.map