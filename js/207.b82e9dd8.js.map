{"version":3,"file":"js/207.b82e9dd8.js","mappings":"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","sources":["webpack://ocean_life/./src/components/Global/Loading.vue","webpack://ocean_life/./src/components/Global/Loading.vue?07f9","webpack://ocean_life/./src/views/backend/MemberBackendEditor.vue","webpack://ocean_life/./src/views/backend/MemberBackendEditor.vue?2fb0"],"sourcesContent":["<script>\r\nexport default {};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"sk-fading-circle\">\r\n    <div class=\"sk-circle1 sk-circle\"></div>\r\n    <div class=\"sk-circle2 sk-circle\"></div>\r\n    <div class=\"sk-circle3 sk-circle\"></div>\r\n    <div class=\"sk-circle4 sk-circle\"></div>\r\n    <div class=\"sk-circle5 sk-circle\"></div>\r\n    <div class=\"sk-circle6 sk-circle\"></div>\r\n    <div class=\"sk-circle7 sk-circle\"></div>\r\n    <div class=\"sk-circle8 sk-circle\"></div>\r\n    <div class=\"sk-circle9 sk-circle\"></div>\r\n    <div class=\"sk-circle10 sk-circle\"></div>\r\n    <div class=\"sk-circle11 sk-circle\"></div>\r\n    <div class=\"sk-circle12 sk-circle\"></div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" src=\"@/assets/scss/layout/_loading.scss\" scoped></style>\r\n","import { render } from \"./Loading.vue?vue&type=template&id=044c9dad&scoped=true\"\nimport script from \"./Loading.vue?vue&type=script&lang=js\"\nexport * from \"./Loading.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/scss/layout/_loading.scss?vue&type=style&index=0&id=044c9dad&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\芷盈\\\\Desktop\\\\作品集\\\\前端\\\\ocean_life\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-044c9dad\"]])\n\nexport default __exports__","<script>\r\n// 套件(Axios)\r\nimport axios from \"axios\";\r\n\r\n// Vue 方法\r\nimport { useRoute } from \"vue-router\";\r\nimport { reactive, onMounted, ref, inject } from \"vue\";\r\nimport Loading from \"@/components/Global/Loading.vue\";\r\n\r\nexport default {\r\n  components: { Loading },\r\n  setup() {\r\n    const loading = ref(true); // false完成\r\n\r\n    const route = useRoute();\r\n\r\n    // --------------- 定義資料 ---------------\r\n    // reload (inject)\r\n    const reload = inject(\"reload\");\r\n\r\n    // 該名會員\r\n    const memberDatas = reactive({ data: [] });\r\n\r\n    // 彈跳視窗 (是否顯示)\r\n    const popupBtn = ref(false);\r\n\r\n    // 所上傳的圖片\r\n    // 在vue3中，如果DOM上使用了ref，必須在setup中先定義，否則打包會報錯。\r\n    const form = ref(null);\r\n\r\n    // v-model資訊\r\n    const status = ref();\r\n    const sub = ref();\r\n\r\n    // -------------- 取得資料 ---------------\r\n    // 所選擇的會員\r\n    onMounted(() => {\r\n      axios\r\n        .post(\"https://oceandemo.herokuapp.com/MySpringBoot/findByUserId\", {\r\n          userId: getId(),\r\n        })\r\n        .then((response) => {\r\n          memberDatas.data = response.data;\r\n          // console.log(memberDatas.data);\r\n\r\n          status.value = response.data.userStatus; // 狀態\r\n          // console.log(status.value);\r\n\r\n          // 訂閱\r\n          if (response.data.userSub === false) {\r\n            sub.value = \"否\";\r\n            // console.log(sub.value);\r\n          } else {\r\n            sub.value = \"是\";\r\n            // console.log(sub.value);\r\n          }\r\n          // sub.value = response.data.userSub; // 訂閱\r\n\r\n          loading.value = false;\r\n        });\r\n    });\r\n\r\n    // -------------- function ---------------\r\n    // 取得該篇新聞的ID\r\n    const getId = () => {\r\n      return route.query.id;\r\n    };\r\n\r\n    // 取得資料\r\n    const submitFn = (e) => {\r\n      // 判斷是否有填寫必填的欄位\r\n      if (form.value.reportValidity()) {\r\n        // (1) 取得表單資料\r\n\r\n        const statusInfo = $(\"#status\").val(); // 狀態\r\n        // console.log(statusInfo);\r\n\r\n        // (2) 轉成 FormData 檔案格式\r\n        const formData = new FormData(); // 就能建立一個FormData格式的內容\r\n\r\n        // append 增加一個欄位到表單內，其中一個 file-to-upload\r\n        // file-to-upload 是 input標籤name 的名稱\r\n        formData.append(\"id\", getId()); // 會員ID\r\n        formData.append(\"status\", statusInfo); // 會員狀態\r\n\r\n        formData.append(\"name\", memberDatas.data.userName); // 名稱\r\n        formData.append(\"gender\", memberDatas.data.userGender); // 性別\r\n        formData.append(\"account\", memberDatas.data.userAccount); // 帳號\r\n        formData.append(\"birth\", memberDatas.data.userBirth); // 出生日期\r\n        formData.append(\"country\", memberDatas.data.userCountry); // 地址 (縣市)\r\n        formData.append(\"district\", memberDatas.data.userDistrict); // 地址 (縣市)\r\n        formData.append(\"road\", memberDatas.data.userRoad); // 地址 (路)\r\n        // formData.append(\"phone\", memberDatas.data.userPhone); // 電話\r\n        formData.append(\"sub\", memberDatas.data.userSub); // 是否訂閱\r\n\r\n        // (3) 將form表單的內容透過API的方式，發送到伺服器\r\n        // const fileName = fileInput.value.id;\r\n\r\n        const url = \"https://oceandemo.herokuapp.com/MySpringBoot/updateUser\";\r\n\r\n        axios.post(url, formData).then(function (res) {\r\n          // console.log(res.data);\r\n          // alert(\"新增成功\");\r\n\r\n          reload();\r\n        });\r\n        // .catch(function (error) {\r\n        //   console.log(error);\r\n        // });\r\n      } else {\r\n        e.preventDefault();\r\n      }\r\n    };\r\n\r\n    return {\r\n      memberDatas,\r\n      getId,\r\n      popupBtn,\r\n      submitFn,\r\n      form,\r\n      reload,\r\n      status,\r\n      loading,\r\n      sub,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <section v-if=\"loading\" class=\"loading\">\r\n    <Loading />\r\n  </section>\r\n  <section v-else>\r\n    <div class=\"titleBox\">\r\n      <!-- 傳來的index:{{ $route.query.index }} -->\r\n      <h3>會員管理</h3>\r\n      <span>- 編輯會員</span>\r\n      <!-- 傳來的參數:{{ $route.query.id }} -->\r\n    </div>\r\n\r\n    <!-- 表格資料 -->\r\n    <form\r\n      ref=\"form\"\r\n      action=\"https://oceandemo.herokuapp.com/MySpringBoot/updateUser\"\r\n      method=\"post\"\r\n      enctype=\"multipart/form-data\"\r\n    >\r\n      <div class=\"tableBox\">\r\n        <ul class=\"tableContent\">\r\n          <li>\r\n            <label for=\"\">會員編號</label>\r\n            <p>{{ $route.query.index }}</p>\r\n          </li>\r\n          <li>\r\n            <label for=\"\">姓名</label>\r\n            <p name=\"name\">{{ memberDatas.data.userName }}</p>\r\n          </li>\r\n          <li>\r\n            <label for=\"\">性別</label>\r\n            <p name=\"gender\">{{ memberDatas.data.userGender }}</p>\r\n          </li>\r\n          <li>\r\n            <label for=\"\">帳號(信箱)</label>\r\n            <p name=\"account\">{{ memberDatas.data.userAccount }}</p>\r\n          </li>\r\n          <li>\r\n            <label for=\"\">出生日期</label>\r\n            <p name=\"birth\">{{ memberDatas.data.userBirth }}</p>\r\n          </li>\r\n          <li>\r\n            <label for=\"\">地址</label>\r\n            <span name=\"country\">{{ memberDatas.data.userCountry }}</span>\r\n            <span name=\"district\" class=\"district\">{{\r\n              memberDatas.data.userDistrict\r\n            }}</span>\r\n            <span name=\"road\">{{ memberDatas.data.userRoad }}</span>\r\n          </li>\r\n          <li>\r\n            <label for=\"\">連絡電話</label>\r\n            <p name=\"phone\">{{ memberDatas.data.userPhone }}</p>\r\n          </li>\r\n          <li>\r\n            <label for=\"\">是否訂閱電子報</label>\r\n            <p name=\"sub\">{{ sub }}</p>\r\n          </li>\r\n          <li>\r\n            <label for=\"\">會員狀態</label>\r\n            <select name=\"status\" id=\"status\" v-model=\"status\">\r\n              <option value=\"正常\">正常</option>\r\n              <option value=\"停權\">停權</option>\r\n            </select>\r\n          </li>\r\n        </ul>\r\n\r\n        <div class=\"btnBox\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"cancelBtn allBtn\"\r\n            @click=\"popupBtn = !popupBtn\"\r\n          >\r\n            取消\r\n          </button>\r\n\r\n          <router-link to=\"/backend/memberbackend/member\">\r\n            <button type=\"submit\" class=\"addBtn allBtn\" @click=\"submitFn\">\r\n              更新\r\n            </button>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <!-- 彈跳視窗 -->\r\n    <main class=\"ticket-popup\" v-show=\"popupBtn\">\r\n      <div class=\"containerMain\">\r\n        <div class=\"popupTop\">\r\n          <h3>關閉視窗</h3>\r\n        </div>\r\n\r\n        <div class=\"popupUnder\">\r\n          <p>尚未存檔，是否確認關閉？</p>\r\n          <div class=\"popupBtnBox\">\r\n            <button\r\n              class=\"popupCloseBtn\"\r\n              type=\"button\"\r\n              @click=\"popupBtn = !popupBtn\"\r\n            >\r\n              取消\r\n            </button>\r\n            <router-link to=\"/backend/memberbackend/member\">\r\n              <button class=\"popupOkBtn\" type=\"button\">確定</button>\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </section>\r\n</template>\r\n\r\n<style\r\n  lang=\"scss\"\r\n  src=\"@/assets/scss/layout/backend/_memberBackendEditor.scss\"\r\n  scoped\r\n></style>\r\n","import { render } from \"./MemberBackendEditor.vue?vue&type=template&id=5207048e&scoped=true\"\nimport script from \"./MemberBackendEditor.vue?vue&type=script&lang=js\"\nexport * from \"./MemberBackendEditor.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/scss/layout/backend/_memberBackendEditor.scss?vue&type=style&index=0&id=5207048e&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\芷盈\\\\Desktop\\\\作品集\\\\前端\\\\ocean_life\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5207048e\"]])\n\nexport default __exports__"],"names":["class","_hoisted_2","_createElementBlock","_hoisted_14","__exports__","render","_createElementVNode","ref","action","method","enctype","for","name","value","_hoisted_25","_hoisted_26","type","$setup","_createVNode","_component_Loading","_hoisted_3","_hoisted_7","_toDisplayString","_ctx","query","index","_hoisted_8","data","userName","_hoisted_10","userGender","_hoisted_12","userAccount","userBirth","_hoisted_16","userCountry","userDistrict","userRoad","_hoisted_20","userPhone","_hoisted_22","_hoisted_24","id","$event","onClick","_component_router_link","to","_hoisted_31","_hoisted_33","_hoisted_35","components","Loading","setup","loading","route","useRoute","reload","inject","memberDatas","reactive","popupBtn","form","status","sub","onMounted","axios","userId","getId","then","response","userStatus","userSub","submitFn","e","reportValidity","statusInfo","$","val","formData","FormData","append","url","res","preventDefault"],"sourceRoot":""}