{"version":3,"file":"js/700.7dc858d9.js","mappings":"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","sources":["webpack://ocean_life/./src/views/backend/BackendLogin.vue","webpack://ocean_life/./src/views/backend/BackendLogin.vue?8837"],"sourcesContent":["<script>\r\n// 套件(Axios)\r\nimport axios from \"axios\";\r\n\r\nimport { computed, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  setup() {\r\n    const userName = ref(\"oceanLife@gmail.com\");\r\n    const password = ref(\"123123\");\r\n\r\n    const showEye = ref(false);\r\n\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    // console.log(router);\r\n\r\n    // --------------- 處理頁首 、 頁尾 ---------------\r\n    // 取得 (頁首) 資料\r\n    const headerIsSohow = computed(() => {\r\n      return store.getters.getHeaderIsSohow;\r\n    });\r\n\r\n    // 修改 (頁首) 資料\r\n    store.dispatch(\"headerIsSohow\");\r\n\r\n    // 取得 (頁尾) 資料\r\n    const footerIsSohow = computed(() => {\r\n      return store.getters.getFooterIsSohow;\r\n    });\r\n\r\n    // 修改 (頁尾)) 資料\r\n    store.dispatch(\"footerIsSohow\");\r\n\r\n    // --------------------- cookie函式 ---------------------\r\n    // 設定 cookie\r\n    const setCookie = (cname, cvalue, exdays) => {\r\n      const d = new Date();\r\n      d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\r\n      const expires = \"expires=\" + d.toUTCString();\r\n      document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n    };\r\n\r\n    // 取得 cookie 的值\r\n    const getCookie = (cname) => {\r\n      const name = cname + \"=\";\r\n      const ca = document.cookie.split(\";\");\r\n      for (let i = 0; i < ca.length; i++) {\r\n        let c = ca[i];\r\n        while (c.charAt(0) === \" \") {\r\n          c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) === 0) {\r\n          return c.substring(name.length, c.length);\r\n        }\r\n      }\r\n      return \"\";\r\n    };\r\n\r\n    // 檢查某 cookie 是否存在\r\n    const checkCookie = (cname) => {\r\n      const cookieValue = getCookie(cname);\r\n      if (cookieValue !== \"\") {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    const login = () => {\r\n      axios({\r\n        method: \"post\",\r\n        url: \"https://oceandemo.herokuapp.com/MySpringBoot/login\",\r\n        // API要求的資料\r\n        data: {\r\n          userAccount: userName.value,\r\n          userPass: password.value,\r\n        },\r\n      }).then(function (res) {\r\n        if (document.getElementById(\"keepLogin\").checked === false) {\r\n          // console.log(\"沒勾\");\r\n\r\n          // 使用Cookie\r\n          if (res.data.is_login === true) {\r\n            if (res.data.userAccount) {\r\n              setCookie(\"token\", res.data.userToken);\r\n              setCookie(\"userCode\", res.data.userAccount);\r\n              setCookie(\"userId\", res.data.userId);\r\n            } else {\r\n              setCookie(\"mangerToken\", res.data.mangerToken);\r\n              setCookie(\"mangerCode\", res.data.mangerAccount);\r\n              setCookie(\"mangerId\", res.data.mangerId);\r\n            }\r\n\r\n            // 清空被選取的checkBox\r\n            router.push({\r\n              path: \"/backend/memberbackend/member\",\r\n            });\r\n            $(\"#keepLogin\").prop(\"checked\", false);\r\n          } else {\r\n            // console.log(res.data.is_login + \"錯誤\");\r\n            alert(res.data.is_login);\r\n            userName.value = \"\";\r\n            password.value = \"\";\r\n            $(\"#keepLogin\").prop(\"checked\", false);\r\n          }\r\n        } else {\r\n          // console.log(\"有勾\");\r\n\r\n          // 使用localStorage\r\n          if (res.data.is_login === true) {\r\n            if (res.data.userAccount) {\r\n              localStorage.setItem(\"token\", res.data.userToken); // 保存token\r\n              localStorage.setItem(\"userCode\", res.data.userAccount);\r\n              localStorage.setItem(\"userId\", res.data.userId);\r\n            } else {\r\n              localStorage.setItem(\"mangerToken\", res.data.mangerToken);\r\n              localStorage.setItem(\"mangerCode\", res.data.mangerAccount);\r\n              localStorage.setItem(\"mangerId\", res.data.mangerId);\r\n            }\r\n\r\n            router.push({\r\n              path: \"/backend/memberbackend/member\",\r\n            });\r\n            $(\"#keepLogin\").prop(\"checked\", false);\r\n          } else {\r\n            // console.log(res.data.is_login + \"錯誤\");\r\n            alert(res.data.is_login);\r\n            userName.value = \"\";\r\n            password.value = \"\";\r\n            $(\"#keepLogin\").prop(\"checked\", false);\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    const alertFn = (e) => {\r\n      e.preventDefault();\r\n      alert(\"此功能維修中，若有不便，敬請見諒！\");\r\n    };\r\n\r\n    return {\r\n      login,\r\n      headerIsSohow,\r\n      footerIsSohow,\r\n      userName,\r\n      password,\r\n      setCookie,\r\n      getCookie,\r\n      checkCookie,\r\n      showEye,\r\n      alertFn,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <header class=\"header\">\r\n    <div class=\"container\">\r\n      <div class=\"logoTitleBox\">\r\n        <!-- <Logo /> -->\r\n        <router-link class=\"logoBtn\" to=\"/backend/memberBackend\">\r\n          <img\r\n            class=\"logoIcon\"\r\n            src=\"@/assets/images/logo.svg\"\r\n            alt=\"Ocean Life的Logo\"\r\n          />\r\n        </router-link>\r\n\r\n        <h5>後台管理系統</h5>\r\n      </div>\r\n    </div>\r\n  </header>\r\n\r\n  <main class=\"login\">\r\n    <div class=\"containerMain\">\r\n      <form\r\n        @submit.prevent=\"login\"\r\n        class=\"loginForm\"\r\n        action=\"https://oceandemo.herokuapp.com/MySpringBoot/login\"\r\n        method=\"post\"\r\n        enctype=\"multipart/form-data\"\r\n      >\r\n        <h3>後台登入</h3>\r\n        <input\r\n          class=\"inputText\"\r\n          type=\"email\"\r\n          placeholder=\"電子郵件\"\r\n          v-model.trim=\"userName\"\r\n          name=\"userAccount\"\r\n          required\r\n        />\r\n        <br />\r\n        <div class=\"passwordBox\">\r\n          <input\r\n            class=\"inputText\"\r\n            placeholder=\"密碼\"\r\n            v-model.trim=\"password\"\r\n            name=\"userPass\"\r\n            required\r\n            :type=\"showEye ? 'text' : 'password'\"\r\n          />\r\n          <div class=\"eyeBtn\" @click=\"showEye = !showEye\">\r\n            <!-- 處理img動態scr使用三元運算符是不行的，其實vue是將圖片轉換成base64的，所有我們最好的方式是用v-if: -->\r\n            <!-- <img src=\"@/assets/images/openEye.svg\" alt=\"\" /> -->\r\n            <img\r\n              v-if=\"showEye\"\r\n              class=\"closeEyeImg\"\r\n              src=\"@/assets/images/closeEye.svg\"\r\n            />\r\n            <img v-else class=\"showEyeImg\" src=\"@/assets/images/openEye.svg\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"loginInfoBox\">\r\n          <div class=\"keepLogin\">\r\n            <input type=\"checkbox\" id=\"keepLogin\" />\r\n            <label for=\"keepLogin\">保持登入狀態</label>\r\n          </div>\r\n          <a @click=\"alertFn\">忘記密碼?</a>\r\n        </div>\r\n        <button class=\"loginBtn\" type=\"submit\">登入</button>\r\n      </form>\r\n    </div>\r\n  </main>\r\n  <footer class=\"footer\">\r\n    Copyright © 2022 OCEAN LIFE. All rights reserved\r\n  </footer>\r\n</template>\r\n\r\n<style\r\n  lang=\"scss\"\r\n  src=\"@/assets/scss/layout/backend/_backendLogin.scss\"\r\n  scoped\r\n></style>\r\n","import { render } from \"./BackendLogin.vue?vue&type=template&id=6a55981c&scoped=true\"\nimport script from \"./BackendLogin.vue?vue&type=script&lang=js\"\nexport * from \"./BackendLogin.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/scss/layout/backend/_backendLogin.scss?vue&type=style&index=0&id=6a55981c&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\芷盈\\\\Desktop\\\\作品集\\\\前端\\\\ocean_life\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6a55981c\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_imports_1","_imports_2","type","id","for","_createVNode","_component_router_link","to","_hoisted_4","_hoisted_5","onSubmit","$setup","action","method","enctype","_hoisted_8","placeholder","$event","name","required","_hoisted_9","onClick","_createElementBlock","_hoisted_15","_hoisted_16","_hoisted_17","setup","userName","ref","password","showEye","store","useStore","router","useRouter","headerIsSohow","computed","getters","getHeaderIsSohow","dispatch","footerIsSohow","getFooterIsSohow","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","ca","split","i","length","c","charAt","substring","indexOf","checkCookie","cookieValue","login","axios","url","data","userAccount","value","userPass","then","res","getElementById","checked","is_login","userToken","userId","mangerToken","mangerAccount","mangerId","push","path","$","prop","alert","localStorage","setItem","alertFn","e","preventDefault","__exports__","render"],"sourceRoot":""}