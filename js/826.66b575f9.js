"use strict";(self["webpackChunkocean_life"]=self["webpackChunkocean_life"]||[]).push([[826],{3826:function(t,e,l){l.r(e),l.d(e,{default:function(){return V}});var n=l(3396),a=l(7139),i=l(9242);const u=t=>((0,n.dD)("data-v-12783384"),t=t(),(0,n.Cn)(),t),p=u((()=>(0,n._)("div",{class:"titleBox"},[(0,n._)("h3",null,"活動管理"),(0,n._)("span",null,"- 新增活動")],-1))),o={ref:"form",action:"https://oceandemo.herokuapp.com/MySpringBoot/addActivity",method:"post",enctype:"multipart/form-data"},s={class:"tableBox"},r={class:"tableContent"},c=u((()=>(0,n._)("label",{for:""},"活動編號",-1))),d=u((()=>(0,n._)("label",{for:""},"圖片*",-1))),_={class:"box"},f={key:0,class:"imgBox"},m=["src"],v=u((()=>(0,n._)("label",{for:""},"標題*",-1))),b={type:"text",name:"title",id:"title",ref:"titleInput",required:""},k={class:"positionTop"},y=u((()=>(0,n._)("label",{for:""},"活動介紹*",-1))),B={name:"content",id:"content",ref:"contentInput",required:""},g=u((()=>(0,n._)("label",{for:""},"表演日期*",-1))),h={type:"text",name:"date",id:"date",ref:"dateInput",required:""},I=u((()=>(0,n._)("label",{for:""},"表演時間*",-1))),C={type:"text",name:"time",id:"time",ref:"timeInput",required:""},w={class:"positionTop"},x=u((()=>(0,n._)("label",{for:""},"注意事項",-1))),H={name:"remark",id:"remark",ref:"remarkInput"},q=u((()=>(0,n._)("li",null,[(0,n._)("label",{for:""},"活動狀態*"),(0,n._)("select",{name:"status",id:"status"},[(0,n._)("option",{value:"上架"},"上架"),(0,n._)("option",{value:"下架"},"下架")])],-1))),F={class:"btnBox"},D={class:"ticket-popup"},O={class:"containerMain"},M=u((()=>(0,n._)("div",{class:"popupTop"},[(0,n._)("h3",null,"關閉視窗")],-1))),T={class:"popupUnder"},U=u((()=>(0,n._)("p",null,"尚未存檔，是否確認關閉？",-1))),j={class:"popupBtnBox"},A=u((()=>(0,n._)("button",{class:"popupOkBtn",type:"button"},"確定",-1)));function L(t,e,l,u,$,L){const R=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[p,(0,n._)("form",o,[(0,n._)("div",s,[(0,n._)("ul",r,[(0,n._)("li",null,[c,(0,n._)("p",null,(0,a.zw)(t.$route.query.id),1)]),(0,n._)("li",null,[d,(0,n._)("div",_,[(0,n._)("input",{required:"",id:"customFile",class:"imgInput",type:"file",name:"file-to-upload",ref:"fileInput",onChange:e[0]||(e[0]=(...t)=>u.fileChange&&u.fileChange(...t))},null,544),u.imageOpen?((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("img",{src:u.images},null,8,m)])):(0,n.kq)("",!0)])]),(0,n._)("li",null,[v,(0,n._)("input",b,null,512)]),(0,n._)("li",k,[y,(0,n._)("textarea",B,null,512)]),(0,n._)("li",null,[g,(0,n._)("input",h,null,512)]),(0,n._)("li",null,[I,(0,n._)("input",C,null,512)]),(0,n._)("li",w,[x,(0,n._)("textarea",H,null,512)]),q]),(0,n._)("div",F,[(0,n._)("button",{type:"button",class:"cancelBtn allBtn",onClick:e[1]||(e[1]=t=>u.popupBtn=!u.popupBtn)}," 取消 "),(0,n.Wm)(R,{to:"/backend/activityBackend/activity"},{default:(0,n.w5)((()=>[(0,n._)("button",{type:"submit",class:"addBtn allBtn",onClick:e[2]||(e[2]=(...t)=>u.submitFn&&u.submitFn(...t))}," 新增 ")])),_:1})])])],512),(0,n.wy)((0,n._)("main",D,[(0,n._)("div",O,[M,(0,n._)("div",T,[U,(0,n._)("div",j,[(0,n._)("button",{class:"popupCloseBtn",type:"button",onClick:e[3]||(e[3]=t=>u.popupBtn=!u.popupBtn)}," 取消 "),(0,n.Wm)(R,{to:"/backend/activityBackend/activity"},{default:(0,n.w5)((()=>[A])),_:1})])])])],512),[[i.F8,u.popupBtn]])],64)}var R=l(4311),S=l(4870),W={setup(){const t=(0,n.f3)("reload"),e=(0,S.iH)(!1),l=(0,S.iH)(""),a=(0,S.iH)(!1),i=(0,S.iH)(null),u=(0,S.iH)(null),p=(0,S.iH)(null),o=(0,S.iH)(null),s=(0,S.iH)(null),r=(0,S.iH)(null),c=(0,S.iH)(null),d=e=>{if(c.value.reportValidity()){const e=p.value.files[0],l=$("#title").val(),n=$("#content").val(),a=$("#remark").val(),c=$("#status").val(),d=$("#date").val(),_=$("#time").val(),f=new FormData;f.append("file-to-upload",e),f.append("title",l),f.append("content",n),f.append("remark",a),f.append("status",c),f.append("date",d),f.append("time",_);const m="https://oceandemo.herokuapp.com/MySpringBoot/addActivity";R.Z.post(m,f).then((function(e){o.value="",s.value="",r.value="",i.value="",u.value="",t()})).catch((function(t){console.log(t)}))}else e.preventDefault()},_=t=>{const e=p.value.files[0],n=t.target;if(0===n.files.length)a.value=!1;else{const t=window.URL.createObjectURL(e,{type:"image/jpeg"});l.value=t,a.value=!0}};return{imageOpen:a,popupBtn:e,fileInput:p,images:l,submitFn:d,titleInput:o,contentInput:s,remarkInput:r,fileChange:_,reload:t,dateInput:i,timeInput:u,form:c}}},Z=l(89);const z=(0,Z.Z)(W,[["render",L],["__scopeId","data-v-12783384"]]);var V=z}}]);
//# sourceMappingURL=826.66b575f9.js.map