"use strict";(self["webpackChunkocean_life"]=self["webpackChunkocean_life"]||[]).push([[378],{2378:function(e,t,l){l.r(t),l.d(t,{default:function(){return W}});var n=l(3396),a=l(7139),o=l(9242);const i=e=>((0,n.dD)("data-v-6616cdb3"),e=e(),(0,n.Cn)(),e),p=i((()=>(0,n._)("div",{class:"titleBox"},[(0,n._)("h3",null,"消息管理"),(0,n._)("span",null,"- 新增文章")],-1))),u={ref:"form",action:"https://oceandemo.herokuapp.com/MySpringBoot/addArticle",method:"post",enctype:"multipart/form-data"},s={class:"tableBox"},c={class:"tableContent"},r=i((()=>(0,n._)("label",{for:""},"文章編號",-1))),d=(0,n.uE)('<li data-v-6616cdb3><label for="" data-v-6616cdb3>文章類別*</label><select name="value" id="value" data-v-6616cdb3><option value="活動消息" data-v-6616cdb3>活動消息</option><option value="園區公告" data-v-6616cdb3>園區公告</option><option value="商城公告" data-v-6616cdb3>商城公告</option></select></li>',1),_=i((()=>(0,n._)("label",{for:""},"圖片*",-1))),v={class:"box"},f={key:0,class:"imgBox"},m=["src"],b=i((()=>(0,n._)("label",{for:""},"標題*",-1))),k={type:"text",name:"title",id:"title",ref:"titleInput",required:""},B={class:"positionTop"},g=i((()=>(0,n._)("label",{for:""},"文章內容*",-1))),h={name:"content",id:"content",ref:"contentInput",required:""},w={class:"positionTop"},y=i((()=>(0,n._)("label",{for:""},"注意事項",-1))),C={name:"remark",id:"remark",ref:"remarkInput"},I=i((()=>(0,n._)("li",null,[(0,n._)("label",{for:""},"文章狀態*"),(0,n._)("select",{name:"status",id:"status"},[(0,n._)("option",{value:"上架"},"上架"),(0,n._)("option",{value:"下架"},"下架")])],-1))),x={class:"btnBox"},H={class:"ticket-popup"},F={class:"containerMain"},q=i((()=>(0,n._)("div",{class:"popupTop"},[(0,n._)("h3",null,"關閉視窗")],-1))),D={class:"popupUnder"},O=i((()=>(0,n._)("p",null,"尚未存檔，是否確認關閉？",-1))),M={class:"popupBtnBox"},T=i((()=>(0,n._)("button",{class:"popupOkBtn",type:"button"},"確定",-1)));function U(e,t,l,i,$,U){const j=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[p,(0,n._)("form",u,[(0,n._)("div",s,[(0,n._)("ul",c,[(0,n._)("li",null,[r,(0,n._)("p",null,(0,a.zw)(e.$route.query.id),1)]),d,(0,n._)("li",null,[_,(0,n._)("div",v,[(0,n._)("input",{required:"",id:"customFile",class:"imgInput",type:"file",name:"file-to-upload",ref:"fileInput",onChange:t[0]||(t[0]=(...e)=>i.fileChange&&i.fileChange(...e))},null,544),i.imageOpen?((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("img",{src:i.images},null,8,m)])):(0,n.kq)("",!0)])]),(0,n._)("li",null,[b,(0,n._)("input",k,null,512)]),(0,n._)("li",B,[g,(0,n._)("textarea",h,null,512)]),(0,n._)("li",w,[y,(0,n._)("textarea",C,null,512)]),I]),(0,n._)("div",x,[(0,n._)("button",{type:"button",class:"cancelBtn allBtn",onClick:t[1]||(t[1]=e=>i.popupBtn=!i.popupBtn)}," 取消 "),(0,n.Wm)(j,{to:"/backend/newsbackend/news"},{default:(0,n.w5)((()=>[(0,n._)("button",{type:"submit",class:"addBtn allBtn",onClick:t[2]||(t[2]=(...e)=>i.submitFn&&i.submitFn(...e))}," 新增 ")])),_:1})])])],512),(0,n.wy)((0,n._)("main",H,[(0,n._)("div",F,[q,(0,n._)("div",D,[O,(0,n._)("div",M,[(0,n._)("button",{class:"popupCloseBtn",type:"button",onClick:t[3]||(t[3]=e=>i.popupBtn=!i.popupBtn)}," 取消 "),(0,n.Wm)(j,{to:"/backend/newsbackend/news"},{default:(0,n.w5)((()=>[T])),_:1})])])])],512),[[o.F8,i.popupBtn]])],64)}var j=l(4311),A=l(4870),L={setup(){const e=(0,n.f3)("reload"),t=(0,A.iH)(!1),l=(0,A.iH)(""),a=(0,A.iH)(!1),o=(0,A.iH)(null),i=(0,A.iH)(null),p=(0,A.iH)(null),u=(0,A.iH)(null),s=(0,A.iH)(null),c=t=>{if(s.value.reportValidity()){const t=o.value.files[0],l=$("#value").val(),n=$("#title").val(),a=$("#content").val(),s=$("#remark").val(),c=$("#status").val(),r=new FormData;r.append("value",l),r.append("file-to-upload",t),r.append("title",n),r.append("content",a),r.append("remark",s),r.append("status",c);const d="https://oceandemo.herokuapp.com/MySpringBoot/addArticle";j.Z.post(d,r).then((function(t){i.value="",p.value="",u.value="",e()}))}else t.preventDefault()},r=e=>{const t=o.value.files[0],n=e.target;if(0===n.files.length)a.value=!1;else{const e=window.URL.createObjectURL(t,{type:"image/jpeg"});l.value=e,a.value=!0}};return{form:s,imageOpen:a,popupBtn:t,fileInput:o,images:l,submitFn:c,titleInput:i,contentInput:p,remarkInput:u,fileChange:r,reload:e}}},R=l(89);const S=(0,R.Z)(L,[["render",U],["__scopeId","data-v-6616cdb3"]]);var W=S}}]);
//# sourceMappingURL=378.9a2be77d.js.map