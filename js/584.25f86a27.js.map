{"version":3,"file":"js/584.25f86a27.js","mappings":"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","sources":["webpack://ocean_life/./src/components/Global/Loading.vue","webpack://ocean_life/./src/components/Global/Loading.vue?07f9","webpack://ocean_life/./src/components/Global/Pagination.vue","webpack://ocean_life/./src/components/Global/Pagination.vue?a0a2","webpack://ocean_life/./src/views/backend/NewsBackend.vue","webpack://ocean_life/./src/views/backend/NewsBackend.vue?abd8"],"sourcesContent":["<script>\r\nexport default {};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"sk-fading-circle\">\r\n    <div class=\"sk-circle1 sk-circle\"></div>\r\n    <div class=\"sk-circle2 sk-circle\"></div>\r\n    <div class=\"sk-circle3 sk-circle\"></div>\r\n    <div class=\"sk-circle4 sk-circle\"></div>\r\n    <div class=\"sk-circle5 sk-circle\"></div>\r\n    <div class=\"sk-circle6 sk-circle\"></div>\r\n    <div class=\"sk-circle7 sk-circle\"></div>\r\n    <div class=\"sk-circle8 sk-circle\"></div>\r\n    <div class=\"sk-circle9 sk-circle\"></div>\r\n    <div class=\"sk-circle10 sk-circle\"></div>\r\n    <div class=\"sk-circle11 sk-circle\"></div>\r\n    <div class=\"sk-circle12 sk-circle\"></div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" src=\"@/assets/scss/layout/_loading.scss\" scoped></style>\r\n","import { render } from \"./Loading.vue?vue&type=template&id=044c9dad&scoped=true\"\nimport script from \"./Loading.vue?vue&type=script&lang=js\"\nexport * from \"./Loading.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/scss/layout/_loading.scss?vue&type=style&index=0&id=044c9dad&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\芷盈\\\\Desktop\\\\作品集\\\\前端\\\\ocean_life\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-044c9dad\"]])\n\nexport default __exports__","<script>\r\n// ----------------- Vue使用方法 -----------------\r\nimport { computed, ref, watch } from \"vue\";\r\n\r\nexport default {\r\n  // 注意，「遞迴元件」必須要有 `name` 屬性，這樣在 template 內才會認得\r\n  // name: \"MyPagination\",\r\n  props: {\r\n    total: {\r\n      type: Number,\r\n    },\r\n    pagesize: {\r\n      type: Number,\r\n    },\r\n    keyWord: {\r\n      type: String,\r\n      Number,\r\n      default: \"\",\r\n    },\r\n    keyWordFinish: {\r\n      type: String,\r\n      Number,\r\n      default: \"\",\r\n    },\r\n  },\r\n\r\n  // setup(props, context)\r\n  // context.emit(\"CallBack\", num); // (事件名稱, 要回傳的內容)\r\n\r\n  // -解構 setup(props, { emit, attrs })\r\n  // 可以直接用emit(\"CallBack\", num); // (事件名稱, 要回傳的內容)\r\n\r\n  setup(props, { emit, attrs }) {\r\n    // ----------------- 定義資料 -----------------\r\n    const skipNum = ref(); // 跳轉頁數\r\n    const currentPage = ref(attrs.currentPage); // 當前在第幾頁\r\n\r\n    // ----------------- computed -----------------\r\n    // 計算總頁數\r\n    // Math.ceil()：無條件進位，回傳小於等於所給數字的最大整數\r\n    const pages = computed(() => Math.ceil(props.total / props.pagesize));\r\n\r\n    // 頁碼顯示 (判斷頁碼要顯示幾頁)\r\n    const listShow = computed(() => {\r\n      const result = [];\r\n      // 判斷沒有省略號...的情況\r\n      // 總頁數 <= 5頁 的時候\r\n      // 若要取得上面定義的資料，要使用.value的方式\r\n      if (pages.value <= 5) {\r\n        for (let i = 1; i <= pages.value; i++) {\r\n          result.push(i);\r\n        }\r\n      } else {\r\n        // 判斷有省略號...的情況，是否要顯示左右兩邊的省略號...\r\n        // 使選中的頁碼居中\r\n        // 當前頁碼 <= 5頁 的時候\r\n        if (currentPage.value <= 2) {\r\n          for (let i = 1; i <= 5; i++) {\r\n            result.push(i);\r\n          }\r\n        } else if (\r\n          // && 是 且\r\n          currentPage.value >= 3 &&\r\n          currentPage.value <= pages.value - 2\r\n        ) {\r\n          for (let i = currentPage.value - 2; i <= currentPage.value + 2; i++) {\r\n            result.push(i);\r\n          }\r\n        } else if (currentPage.value > pages.value - 2) {\r\n          for (let i = pages.value - 4; i <= pages.value; i++) {\r\n            result.push(i);\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    });\r\n\r\n    // ----------------- function -----------------\r\n    // 頁碼按鈕事件\r\n    const changePage = (type) => {\r\n      // 點擊上一頁\r\n      if (type === false) {\r\n        if (currentPage.value <= 1) return;\r\n        currentPage.value -= 1;\r\n      } else if (type === true) {\r\n        // 點擊下一頁\r\n        if (currentPage.value >= pages.value) return;\r\n        currentPage.value += 1;\r\n      } else {\r\n        // 點擊頁碼數字\r\n        currentPage.value = type;\r\n      }\r\n      // 傳給父組件-當前的頁面\r\n      // emit(事件名稱, 要回傳的內容)\r\n      emit(\"change-page\", currentPage.value);\r\n    };\r\n\r\n    // 頁碼跳轉事件\r\n    const goPage = () => {\r\n      // 判定填入的內容\r\n      if (typeof skipNum.value !== \"number\") {\r\n        // console.log(\"不是一個數字\");\r\n        alert(\"請填入數值\");\r\n        skipNum.value = \"\"; // 清空輸入框\r\n      } else if (skipNum.value > pages.value) {\r\n        // console.log(\"不能大於總頁數\");\r\n        alert(\"查無此頁碼，請重新輸入\");\r\n        skipNum.value = \"\"; // 清空輸入框\r\n      } else if (skipNum.value < 1) {\r\n        // console.log(\"不能小於1\");\r\n        alert(\"請輸入正確頁碼\");\r\n        skipNum.value = \"\"; // 清空輸入框\r\n      } else {\r\n        // console.log(\"正確頁碼\");\r\n        currentPage.value = skipNum.value;\r\n        // emit(事件名稱, 要回傳的內容)\r\n        emit(\"change-page\", skipNum.value);\r\n        skipNum.value = \"\"; // 清空輸入框\r\n      }\r\n    };\r\n\r\n    // ----------------- watch -----------------\r\n    // ref監控 - 監控單一的key (O)\r\n    // 必須使用函式return的方式還去做監控\r\n    // 使頁碼回到第一頁\r\n    watch(\r\n      () => props.keyWordFinish,\r\n      (newVal) => {\r\n        // console.log(\"ref:\", newVal);\r\n        if (props.keyWordFinish === \"\") {\r\n          changePage(1);\r\n        } else {\r\n          changePage(1);\r\n        }\r\n      }\r\n    );\r\n\r\n    watch(\r\n      () => props.keyWord,\r\n      (newVal) => {\r\n        // console.log(\"ref:\", newVal);\r\n\r\n        if (props.keyWord === \"\") {\r\n          changePage(1);\r\n        } else {\r\n          // console.log(\"數字-父組件\");\r\n          // changePage(1);\r\n        }\r\n      }\r\n    );\r\n\r\n    return {\r\n      currentPage,\r\n      pages,\r\n      listShow,\r\n      changePage,\r\n      goPage,\r\n      skipNum,\r\n      props,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <section class=\"paginationBox\">\r\n    <div class=\"pagination\">\r\n      <!-- 上一頁 -->\r\n      <div\r\n        class=\"preBtn arrowBtn\"\r\n        :class=\"{ disabled: currentPage === 1 }\"\r\n        @click=\"changePage(false)\"\r\n      >\r\n        <img src=\"@/assets/images/preIcon.svg\" alt=\"\" />\r\n      </div>\r\n\r\n      <!-- ( … 頁碼過多) -->\r\n      <span class=\"dot\" v-if=\"currentPage > 3\">...</span>\r\n\r\n      <!-- 頁碼 -->\r\n      <ul class=\"pageItemBox\">\r\n        <li\r\n          class=\"pageItem\"\r\n          v-for=\"item in listShow\"\r\n          :key=\"item\"\r\n          :class=\"{ active: currentPage === item }\"\r\n          @click=\"changePage(item)\"\r\n        >\r\n          {{ item }}\r\n        </li>\r\n      </ul>\r\n\r\n      <!-- ( … 頁碼過多) -->\r\n      <span class=\"dot\" v-if=\"currentPage < pages - 2\">...</span>\r\n\r\n      <!-- 下一頁 -->\r\n      <div\r\n        class=\"nextBtn arrowBtn\"\r\n        :class=\"{ disabled: currentPage === pages }\"\r\n        @click=\"changePage(true)\"\r\n      >\r\n        <img src=\"@/assets/images/nextIcon.svg\" alt=\"\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 頁碼跳轉 -->\r\n    <div class=\"goBox\">\r\n      <input type=\"text\" v-model.number=\"skipNum\" @keyup.enter=\"goPage\" />\r\n      <!-- <p>input 輸入的是: {{ skipNum }}</p> -->\r\n      <button type=\"button\" @click=\"goPage\">Go</button>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<style lang=\"scss\" src=\"@/assets/scss/layout/_pagination.scss\" scoped></style>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=cac73ef0&scoped=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/scss/layout/_pagination.scss?vue&type=style&index=0&id=cac73ef0&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\芷盈\\\\Desktop\\\\作品集\\\\前端\\\\ocean_life\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cac73ef0\"]])\n\nexport default __exports__","<script>\r\n// 套件(Axios)\r\nimport axios from \"axios\";\r\n\r\n// 組件\r\nimport Pagination from \"@/components/Global/Pagination.vue\";\r\nimport Loading from \"@/components/Global/Loading.vue\";\r\n\r\n// Vue 方法\r\nimport { computed, reactive, ref, onMounted, watch, inject } from \"vue\";\r\n\r\nexport default {\r\n  components: { Pagination, Loading },\r\n  setup() {\r\n    const loading = ref(true); // false完成\r\n\r\n    // --------------- 定義資料 ---------------\r\n    // reload (inject)\r\n    const reload = inject(\"reload\");\r\n\r\n    // 當前在第幾頁 (預設第1頁)\r\n    const currentPage = ref(1);\r\n\r\n    // 每頁顯示幾筆資料 (預設顯示10筆)\r\n    const pagesize = ref(10);\r\n\r\n    // 所有消息\r\n    const newsDatas = reactive({ data: [] });\r\n\r\n    // 所有消息 (關鍵字-篩選後)\r\n    const filterDatas = reactive({ data: [] });\r\n\r\n    // 編輯按鈕狀態\r\n    const editorBtn = ref(false);\r\n\r\n    // 關鍵字 (v-model雙向綁定，立即更新)\r\n    const keyWord = ref(\"\");\r\n\r\n    // 關鍵字 (最後輸入完成)\r\n    const keyWordFinish = ref(\"\");\r\n\r\n    // 資料長度\r\n    const dataLength = ref(\"\");\r\n\r\n    // 所勾選要刪除的ID\r\n    const idInfo = reactive([]);\r\n\r\n    // -------------- 取得資料(axios) ---------------\r\n    // 所有消息\r\n    onMounted(() => {\r\n      axios\r\n        .get(\"https://oceandemo.herokuapp.com/MySpringBoot/findArticle\")\r\n        .then((response) => {\r\n          // console.log(response);\r\n          // newsDatas.data = response.data.reverse(); // 消息順序相反\r\n          newsDatas.data = response.data;\r\n          dataLength.value = response.data.length;\r\n\r\n          loading.value = false;\r\n        });\r\n    });\r\n\r\n    // -------------- computed ---------------\r\n    // 功能 | 分頁顯示的資料\r\n    const lists = computed(() => {\r\n      // 初始畫面 (傳回全部資料)\r\n      if (keyWordFinish.value === \"\" || keyWord.value === \"\") {\r\n        return newsDatas.data.slice(\r\n          (currentPage.value - 1) * pagesize.value,\r\n          currentPage.value * pagesize.value\r\n        );\r\n      } else {\r\n        // 傳回全部資料 (關鍵字篩選後)\r\n        return filterDatas.data.slice(\r\n          (currentPage.value - 1) * pagesize.value,\r\n          currentPage.value * pagesize.value\r\n        );\r\n      }\r\n    });\r\n\r\n    // 功能 | 關鍵字篩選 ()\r\n    filterDatas.data = computed(() => {\r\n      const strArr = keyWordFinish.value.split(\" \"); // 以空白格切分字串\r\n      const arr = []; // 篩選出搜尋結果的陣列\r\n\r\n      strArr.forEach((str) => {\r\n        // console.log(\"str是什麼\" + str); // 輸入的關鍵字\r\n        newsDatas.data.forEach((item) => {\r\n          if (item.valueEN.includes(str) || item.articleTitle.includes(str)) {\r\n            arr.push(item);\r\n          }\r\n          // else {\r\n          //   console.log(item.valueEN);\r\n          // }\r\n        });\r\n      });\r\n\r\n      // console.log(\"arr\" + arr);\r\n      return [...new Set(arr)]; // Set 轉成 Array\r\n    });\r\n\r\n    // -------------- watch ---------------\r\n    // 監聽 關鍵字(keyWord)的變化\r\n    watch(\r\n      () => keyWord.value,\r\n      (newVal) => {\r\n        // console.log(\"ref:\", newVal);\r\n\r\n        if (keyWord.value === \"\") {\r\n          dataLength.value = newsDatas.data.length;\r\n          // console.log(dataLength.value);\r\n        }\r\n        // else {\r\n        //   console.log(\"其他\");\r\n        // }\r\n      }\r\n    );\r\n\r\n    // -------------- function ---------------\r\n    // 子元件傳遞當前所選擇的頁碼\r\n    // newlist：子元件(Pagination.vue)傳來的，參數：currentPage.value (當前所選擇的頁碼)\r\n    const newlist = (e) => {\r\n      currentPage.value = e;\r\n    };\r\n\r\n    // 點擊(搜尋)按鈕\r\n    const goSearch = () => {\r\n      if (keyWord.value === \"\") {\r\n        dataLength.value = newsDatas.data.length;\r\n        keyWordFinish.value = \"\";\r\n      } else {\r\n        keyWordFinish.value = keyWord.value;\r\n        dataLength.value = filterDatas.data.length;\r\n      }\r\n    };\r\n\r\n    // 點擊(編輯完成)按鈕\r\n    const finish = () => {\r\n      editorBtn.value = !editorBtn.value;\r\n\r\n      // 清空被選取的checkBox\r\n      $(\".check\").prop(\"checked\", false);\r\n    };\r\n\r\n    // 點擊(編輯刪除)按鈕\r\n    const deleteInfo = () => {\r\n      // console.log(\"刪除\");\r\n\r\n      axios\r\n        .post(\r\n          `https://oceandemo.herokuapp.com/MySpringBoot/deleteArticleById?idList=${idInfo}`\r\n        )\r\n        .then(function (res) {\r\n          // console.log(res.data);\r\n          // console.log(\"成功\");\r\n          reload();\r\n        });\r\n      // .catch(function (error) {\r\n      //   console.log(error);\r\n      // });\r\n    };\r\n\r\n    // 勾選 - 取得該勾選的ID\r\n    const getID = (e, value) => {\r\n      // console.log(e.target); // 所勾選的元素\r\n      // console.log(value); // 撈取出ID\r\n\r\n      if (e.target.checked) {\r\n        // console.log(\"有打勾\");\r\n        idInfo.push(value);\r\n        // console.log(idInfo);\r\n      } else {\r\n        // console.log(\"沒有打勾\");\r\n\r\n        idInfo.map((val, i) => {\r\n          if (val === value) {\r\n            idInfo.splice(i, 1);\r\n            // console.log(idInfo);\r\n          }\r\n          return idInfo;\r\n        });\r\n      }\r\n    };\r\n\r\n    return {\r\n      getID,\r\n      finish,\r\n      newsDatas,\r\n      lists,\r\n      currentPage,\r\n      pagesize,\r\n      newlist,\r\n      editorBtn,\r\n      keyWord,\r\n      keyWordFinish,\r\n      dataLength,\r\n      goSearch,\r\n      filterDatas,\r\n      idInfo,\r\n      deleteInfo,\r\n      reload,\r\n      loading,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <section v-if=\"loading\" class=\"loading\">\r\n    <Loading />\r\n  </section>\r\n  <section v-else>\r\n    <div class=\"titleBox\">\r\n      <h3>消息管理</h3>\r\n\r\n      <!-------------- 消息管理(標題) 區域 -------------->\r\n      <div class=\"textBox\">\r\n        <div class=\"editorBox\">\r\n          <button\r\n            type=\"bttton\"\r\n            class=\"cancelBtn\"\r\n            v-show=\"editorBtn\"\r\n            @click=\"deleteInfo\"\r\n          >\r\n            刪除\r\n          </button>\r\n          <button\r\n            type=\"bttton\"\r\n            class=\"okBtn\"\r\n            v-show=\"editorBtn\"\r\n            @click=\"finish\"\r\n          >\r\n            完成\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            class=\"allEditorBtn\"\r\n            v-show=\"!editorBtn\"\r\n            @click=\"editorBtn = !editorBtn\"\r\n          >\r\n            編輯\r\n          </button>\r\n          <router-link\r\n            class=\"addBtn\"\r\n            :to=\"{\r\n              path: '/backend/newsbackend/add',\r\n              query: {\r\n                id: dataLength + 1,\r\n              },\r\n            }\"\r\n          >\r\n            + 新增文章\r\n          </router-link>\r\n        </div>\r\n\r\n        <div class=\"infoBox\">\r\n          <p>\r\n            共有\r\n            <span>{{ dataLength }}則</span>\r\n            消息\r\n          </p>\r\n\r\n          <div class=\"searchBox\">\r\n            <input\r\n              type=\"serch\"\r\n              placeholder=\"文章類別、標題\"\r\n              v-model.lazy.trim=\"keyWord\"\r\n              @keyup.enter=\"goSearch\"\r\n            />\r\n            <button class=\"searchBtn\" type=\"button\" @click=\"goSearch\"></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 表格內容 -->\r\n    <div class=\"tableBox\">\r\n      <table class=\"memberTable\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>文章編號</th>\r\n            <th>文章類別</th>\r\n            <th class=\"title\">標題</th>\r\n            <th>上架日期</th>\r\n            <th>最後更新時間</th>\r\n            <th>文章狀態</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item, index) in lists\" :key=\"item.articleID\">\r\n            <td>\r\n              <input\r\n                class=\"check\"\r\n                type=\"checkbox\"\r\n                v-show=\"editorBtn\"\r\n                @click=\"getID($event, item.articleID)\"\r\n              />\r\n            </td>\r\n            <!-- 第二頁，索引值又會回到0 -->\r\n            <td>\r\n              {{ (currentPage - 1) * pagesize + index + 1 }}\r\n            </td>\r\n            <td>{{ item.valueEN }}</td>\r\n            <td>{{ item.articleTitle }}</td>\r\n            <td>{{ item.createDate }}</td>\r\n            <td>{{ item.updateDate }}</td>\r\n            <td>\r\n              <button\r\n                type=\"bttton\"\r\n                class=\"stateBtn\"\r\n                :class=\"{ off: item.articleStatus == '下架' }\"\r\n              >\r\n                {{ item.articleStatus }}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <router-link\r\n                :to=\"{\r\n                  path: '/backend/newsbackend/editor',\r\n                  query: {\r\n                    id: item.articleID,\r\n                    index: (currentPage - 1) * pagesize + index + 1,\r\n                  },\r\n                }\"\r\n              >\r\n                <button type=\"bttton\" class=\"editorBtn\">編輯</button>\r\n              </router-link>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!-- 頁碼 -->\r\n    <Pagination\r\n      :total=\"dataLength\"\r\n      :pagesize=\"pagesize\"\r\n      :currentPage=\"currentPage\"\r\n      @change-page=\"newlist\"\r\n      :keyWord=\"keyWord\"\r\n      :keyWordFinish=\"keyWordFinish\"\r\n    />\r\n  </section>\r\n</template>\r\n\r\n<style\r\n  lang=\"scss\"\r\n  src=\"@/assets/scss/layout/backend/_newsBackend.scss\"\r\n  scoped\r\n></style>\r\n","import { render } from \"./NewsBackend.vue?vue&type=template&id=719da907&scoped=true\"\nimport script from \"./NewsBackend.vue?vue&type=script&lang=js\"\nexport * from \"./NewsBackend.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/scss/layout/backend/_newsBackend.scss?vue&type=style&index=0&id=719da907&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\芷盈\\\\Desktop\\\\作品集\\\\前端\\\\ocean_life\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-719da907\"]])\n\nexport default __exports__"],"names":["class","_hoisted_2","_createElementBlock","_hoisted_14","__exports__","render","_createElementVNode","src","_imports_0","alt","_hoisted_3","_imports_1","_hoisted_9","disabled","$setup","onClick","_Fragment","_renderList","item","active","key","_hoisted_7","type","$event","onKeyup","props","total","Number","pagesize","keyWord","String","default","keyWordFinish","setup","emit","attrs","skipNum","ref","currentPage","pages","computed","Math","ceil","listShow","result","value","i","push","changePage","goPage","alert","watch","newVal","_createVNode","_component_Loading","_hoisted_4","_component_router_link","to","_toDisplayString","placeholder","_hoisted_11","index","articleID","valueEN","articleTitle","createDate","updateDate","off","articleStatus","_hoisted_13","_component_Pagination","onChangePage","components","Pagination","Loading","loading","reload","inject","newsDatas","reactive","data","filterDatas","editorBtn","dataLength","idInfo","onMounted","axios","then","response","length","lists","slice","strArr","split","arr","forEach","str","includes","Set","newlist","e","goSearch","finish","$","prop","deleteInfo","res","getID","target","checked","map","val","splice"],"sourceRoot":""}