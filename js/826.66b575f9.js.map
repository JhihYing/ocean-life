{"version":3,"file":"js/826.66b575f9.js","mappings":"wQAyJEA,EAAAA,EAAAA,GAGM,OAHDC,MAAM,YAAU,EACnBD,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAmB,YAAb,YAFR,K,GAOEE,IAAI,OACJC,OAAO,2DACPC,OAAO,OACPC,QAAQ,uB,GAEHJ,MAAM,Y,GACLA,MAAM,gB,UAEND,EAAAA,EAAAA,GAA0B,SAAnBM,IAAI,IAAG,QAAI,K,UAIlBN,EAAAA,EAAAA,GAAyB,SAAlBM,IAAI,IAAG,OAAG,K,GACZL,MAAM,O,SAUJA,MAAM,U,oBAMbD,EAAAA,EAAAA,GAAyB,SAAlBM,IAAI,IAAG,OAAG,K,GAEfC,KAAK,OACLC,KAAK,QACLC,GAAG,QACHP,IAAI,aACJQ,SAAA,I,GAGAT,MAAM,e,UACRD,EAAAA,EAAAA,GAA2B,SAApBM,IAAI,IAAG,SAAK,K,GAEjBE,KAAK,UACLC,GAAG,UACHP,IAAI,eACJQ,SAAA,I,UAIFV,EAAAA,EAAAA,GAA2B,SAApBM,IAAI,IAAG,SAAK,K,GACZC,KAAK,OAAOC,KAAK,OAAOC,GAAG,OAAOP,IAAI,YAAYQ,SAAA,I,UAGzDV,EAAAA,EAAAA,GAA2B,SAApBM,IAAI,IAAG,SAAK,K,GACZC,KAAK,OAAOC,KAAK,OAAOC,GAAG,OAAOP,IAAI,YAAYQ,SAAA,I,GAEvDT,MAAM,e,UACRD,EAAAA,EAAAA,GAA0B,SAAnBM,IAAI,IAAG,QAAI,K,GACRE,KAAK,SAASC,GAAG,SAASP,IAAI,e,UAE1CF,EAAAA,EAAAA,GAMK,YALHA,EAAAA,EAAAA,GAA2B,SAApBM,IAAI,IAAG,UACdN,EAAAA,EAAAA,GAGS,UAHDQ,KAAK,SAASC,GAAG,UAAzB,EACET,EAAAA,EAAAA,GAA8B,UAAtBW,MAAM,MAAK,OACnBX,EAAAA,EAAAA,GAA8B,UAAtBW,MAAM,MAAK,UAJvB,K,GASGV,MAAM,U,GAoBTA,MAAM,gB,GACLA,MAAM,iB,UACTD,EAAAA,EAAAA,GAEM,OAFDC,MAAM,YAAU,EACnBD,EAAAA,EAAAA,GAAa,UAAT,UADN,K,GAIKC,MAAM,c,UACTD,EAAAA,EAAAA,GAAmB,SAAhB,gBAAY,K,GACVC,MAAM,e,UASPD,EAAAA,EAAAA,GAAoD,UAA5CC,MAAM,aAAaM,KAAK,UAAS,MAAE,K,6FAhHrDK,GAMAZ,EAAAA,EAAAA,GAsFO,OAtFP,EAsFO,EAhFLA,EAAAA,EAAAA,GA+EM,MA/EN,EA+EM,EA9EJA,EAAAA,EAAAA,GA4DK,KA5DL,EA4DK,EA3DHA,EAAAA,EAAAA,GAGK,WAFHa,GACAb,EAAAA,EAAAA,GAA4B,UAAAc,EAAAA,EAAAA,IAAtBC,EAAAA,OAAOC,MAAMP,IAAE,MAEvBT,EAAAA,EAAAA,GAgBK,WAfHiB,GACAjB,EAAAA,EAAAA,GAaM,MAbN,EAaM,EAZJA,EAAAA,EAAAA,GAQE,SAPAU,SAAA,GACAD,GAAG,aACHR,MAAM,WACNM,KAAK,OACLC,KAAK,iBACLN,IAAI,YACHgB,SAAM,oBAAEC,EAAAA,YAAAA,EAAAA,cAAAA,KAPX,UAS0BA,EAAAA,YAAAA,EAAAA,EAAAA,OAA1BC,EAAAA,EAAAA,IAEM,MAFN,EAEM,EADJpB,EAAAA,EAAAA,GAAqB,OAAfqB,IAAKF,EAAAA,QAAM,OAAAG,OADnB,oBAKJtB,EAAAA,EAAAA,GASK,WARHuB,GACAvB,EAAAA,EAAAA,GAME,QANF,EAME,aAEJA,EAAAA,EAAAA,GAQK,KARL,EAQK,CAPHwB,GACAxB,EAAAA,EAAAA,GAKY,WALZ,EAKY,aAEdA,EAAAA,EAAAA,GAGK,WAFHyB,GACAzB,EAAAA,EAAAA,GAAoE,QAApE,EAAoE,aAEtEA,EAAAA,EAAAA,GAGK,WAFH0B,GACA1B,EAAAA,EAAAA,GAAoE,QAApE,EAAoE,aAEtEA,EAAAA,EAAAA,GAGK,KAHL,EAGK,CAFH2B,GACA3B,EAAAA,EAAAA,GAAiE,WAAjE,EAAiE,YAEnE4B,KASF5B,EAAAA,EAAAA,GAeM,MAfN,EAeM,EAdJA,EAAAA,EAAAA,GAMS,UALPO,KAAK,SACLN,MAAM,mBACL4B,QAAK,eAAEV,EAAAA,UAAYA,EAAAA,WACrB,SAKDW,EAAAA,EAAAA,IAIcC,EAAA,CAJDC,GAAG,qCAAmC,C,kBACjD,IAES,EAFThC,EAAAA,EAAAA,GAES,UAFDO,KAAK,SAASN,MAAM,gBAAiB4B,QAAK,oBAAEV,EAAAA,UAAAA,EAAAA,YAAAA,KAAU,W,WAhFtE,eAyFAnB,EAAAA,EAAAA,GAsBO,OAtBP,EAsBO,EArBLA,EAAAA,EAAAA,GAoBM,MApBN,EAoBM,CAnBJiC,GAIAjC,EAAAA,EAAAA,GAcM,MAdN,EAcM,CAbJkC,GACAlC,EAAAA,EAAAA,GAWM,MAXN,EAWM,EAVJA,EAAAA,EAAAA,GAMS,UALPC,MAAM,gBACNM,KAAK,SACJsB,QAAK,eAAEV,EAAAA,UAAYA,EAAAA,WACrB,SAGDW,EAAAA,EAAAA,IAEcC,EAAA,CAFDC,GAAG,qCAAmC,C,kBACjD,IAAoD,CAApDG,K,aAjBV,YAAmChB,EAAAA,aAAAA,G,yBAjPrC,GACEiB,QAGE,MAAMC,GAASC,EAAAA,EAAAA,IAAO,UAGhBC,GAAWrC,EAAAA,EAAAA,KAAI,GAGfsC,GAAStC,EAAAA,EAAAA,IAAI,IAGbuC,GAAYvC,EAAAA,EAAAA,KAAI,GAIhBwC,GAAYxC,EAAAA,EAAAA,IAAI,MAChByC,GAAYzC,EAAAA,EAAAA,IAAI,MAChB0C,GAAY1C,EAAAA,EAAAA,IAAI,MAChB2C,GAAa3C,EAAAA,EAAAA,IAAI,MACjB4C,GAAe5C,EAAAA,EAAAA,IAAI,MACnB6C,GAAc7C,EAAAA,EAAAA,IAAI,MAElB8C,GAAO9C,EAAAA,EAAAA,IAAI,MAIX+C,EAAYC,IAEhB,GAAIF,EAAKrC,MAAMwC,iBAAkB,CAE/B,MAAMC,EAAaR,EAAUjC,MAAM0C,MAAM,GAInCC,EAAYC,EAAE,UAAUC,MACxBC,EAAcF,EAAE,YAAYC,MAC5BE,EAAaH,EAAE,WAAWC,MAC1BG,EAAaJ,EAAE,WAAWC,MAE1BI,EAAWL,EAAE,SAASC,MACtBK,EAAWN,EAAE,SAASC,MAYtBM,EAAW,IAAIC,SAKrBD,EAASE,OAAO,iBAAkBZ,GAClCU,EAASE,OAAO,QAASV,GACzBQ,EAASE,OAAO,UAAWP,GAC3BK,EAASE,OAAO,SAAUN,GAC1BI,EAASE,OAAO,SAAUL,GAC1BG,EAASE,OAAO,OAAQJ,GACxBE,EAASE,OAAO,OAAQH,GAOxB,MAAMI,EAAM,2DAEZC,EAAAA,EAAAA,KACQD,EAAKH,GACVK,MAAK,SAAUC,GAKdvB,EAAWlC,MAAQ,GACnBmC,EAAanC,MAAQ,GACrBoC,EAAYpC,MAAQ,GAEpB+B,EAAU/B,MAAQ,GAClBgC,EAAUhC,MAAQ,GAElB0B,GAED,IACAgC,OAAM,SAAUC,GACfC,QAAQC,IAAIF,EACb,GACL,MACEpB,EAAEuB,gBAEJ,EAIIC,EAAcxB,IAElB,MAAME,EAAaR,EAAUjC,MAAM0C,MAAM,GAGnCsB,EAAQzB,EAAE0B,OAGhB,GAA2B,IAAvBD,EAAMtB,MAAMwB,OAEdpC,EAAU9B,OAAQ,MACb,CAEL,MAAMmE,EAAUC,OAAOC,IAAIC,gBAAgB7B,EAAY,CACrD7C,KAAM,eAKRiC,EAAO7B,MAAQmE,EACfrC,EAAU9B,OAAQ,CAEpB,GAGF,MAAO,CACL8B,YACAF,WACAK,YACAJ,SACAS,WACAJ,aACAC,eACAC,cACA2B,aACArC,SACAK,YACAC,YACAK,OAEH,G,QC7IH,MAAMkC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://ocean_life/./src/views/backend/ActivityBackendAdd.vue","webpack://ocean_life/./src/views/backend/ActivityBackendAdd.vue?e4f3"],"sourcesContent":["<script>\r\n// 套件(Axios)\r\nimport axios from \"axios\";\r\n\r\n// Vue 方法\r\nimport { ref, inject } from \"vue\";\r\n\r\nexport default {\r\n  setup() {\r\n    // --------------- 定義資料 ---------------\r\n    // reload (inject)\r\n    const reload = inject(\"reload\");\r\n\r\n    // 彈跳視窗 (是否顯示)\r\n    const popupBtn = ref(false);\r\n\r\n    // 預覽圖\r\n    const images = ref(\"\");\r\n\r\n    // 控制圖片顯示\r\n    const imageOpen = ref(false);\r\n\r\n    // 所上傳的圖片\r\n    // 在vue3中，如果DOM上使用了ref，必須在setup中先定義，否則打包會報錯。\r\n    const dateInput = ref(null);\r\n    const timeInput = ref(null);\r\n    const fileInput = ref(null);\r\n    const titleInput = ref(null);\r\n    const contentInput = ref(null);\r\n    const remarkInput = ref(null);\r\n\r\n    const form = ref(null);\r\n\r\n    // -------------- function ---------------\r\n    // 取得資料\r\n    const submitFn = (e) => {\r\n      // 判斷是否有填寫必填的欄位\r\n      if (form.value.reportValidity()) {\r\n        // (1) 取得表單資料\r\n        const uploadfile = fileInput.value.files[0]; // 圖片\r\n        // console.dir(uploadfile);\r\n\r\n        // const typeInfo = $(\"#value\").val(); // 類別\r\n        const titleInfo = $(\"#title\").val(); // 標題\r\n        const contentInfo = $(\"#content\").val(); // 內容\r\n        const remarkInfo = $(\"#remark\").val(); // 備註\r\n        const statusInfo = $(\"#status\").val(); // 狀態\r\n\r\n        const dateInfo = $(\"#date\").val(); // 日期\r\n        const timeInfo = $(\"#time\").val(); // 時間\r\n\r\n        // console.log(typeInfo);\r\n        // console.log(titleInfo);\r\n        // console.log(contentInfo);\r\n        // console.log(remarkInfo);\r\n        // console.log(statusInfo);\r\n\r\n        // console.log(dateInfo);\r\n        // console.log(timeInfo);\r\n\r\n        // (2) 轉成 FormData 檔案格式\r\n        const formData = new FormData(); // 就能建立一個FormData格式的內容\r\n\r\n        // append 增加一個欄位到表單內，其中一個 file-to-upload\r\n        // file-to-upload 是 input標籤name 的名稱\r\n        // formData.append(\"value\", typeInfo); // 文章類別\r\n        formData.append(\"file-to-upload\", uploadfile); // 活動圖片\r\n        formData.append(\"title\", titleInfo); // 標題\r\n        formData.append(\"content\", contentInfo); // 內容\r\n        formData.append(\"remark\", remarkInfo); // 內容-備註\r\n        formData.append(\"status\", statusInfo); // 狀態\r\n        formData.append(\"date\", dateInfo); // 日期\r\n        formData.append(\"time\", timeInfo); // 時間\r\n\r\n        // console.log(formData);\r\n\r\n        // (3) 將form表單的內容透過API的方式，發送到伺服器\r\n        // const fileName = fileInput.value.id;\r\n\r\n        const url = \"https://oceandemo.herokuapp.com/MySpringBoot/addActivity\";\r\n\r\n        axios\r\n          .post(url, formData)\r\n          .then(function (res) {\r\n            // console.log(res.data);\r\n            // alert(\"新增成功\");\r\n\r\n            // 清空輸入的內容\r\n            titleInput.value = \"\";\r\n            contentInput.value = \"\";\r\n            remarkInput.value = \"\";\r\n\r\n            dateInput.value = \"\";\r\n            timeInput.value = \"\";\r\n\r\n            reload();\r\n            // }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      } else {\r\n        e.preventDefault();\r\n        // console.log(\"請完成必填欄位\");\r\n      }\r\n    };\r\n\r\n    // 預覽圖\r\n    const fileChange = (e) => {\r\n      // (1) 取得選取檔案的資料\r\n      const uploadfile = fileInput.value.files[0];\r\n      // console.log(\"open file\", uploadfile);\r\n\r\n      const input = e.target;\r\n\r\n      // 判斷是否有選擇圖檔\r\n      if (input.files.length === 0) {\r\n        // console.log(\"取消,沒有選擇圖片\");\r\n        imageOpen.value = false;\r\n      } else {\r\n        // (2) 建立URL網址:createObjectURL()\r\n        const urlInfo = window.URL.createObjectURL(uploadfile, {\r\n          type: \"image/jpeg\",\r\n        });\r\n        // console.log(\"_url\", urlInfo);\r\n\r\n        // (3) 將URL網址存入images裡\r\n        images.value = urlInfo;\r\n        imageOpen.value = true;\r\n        // console.log(images.value);\r\n      }\r\n    };\r\n\r\n    return {\r\n      imageOpen,\r\n      popupBtn,\r\n      fileInput,\r\n      images,\r\n      submitFn,\r\n      titleInput,\r\n      contentInput,\r\n      remarkInput,\r\n      fileChange,\r\n      reload,\r\n      dateInput,\r\n      timeInput,\r\n      form,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"titleBox\">\r\n    <h3>活動管理</h3>\r\n    <span>- 新增活動</span>\r\n  </div>\r\n\r\n  <!-- 表格資料 -->\r\n  <form\r\n    ref=\"form\"\r\n    action=\"https://oceandemo.herokuapp.com/MySpringBoot/addActivity\"\r\n    method=\"post\"\r\n    enctype=\"multipart/form-data\"\r\n  >\r\n    <div class=\"tableBox\">\r\n      <ul class=\"tableContent\">\r\n        <li>\r\n          <label for=\"\">活動編號</label>\r\n          <p>{{ $route.query.id }}</p>\r\n        </li>\r\n        <li>\r\n          <label for=\"\">圖片*</label>\r\n          <div class=\"box\">\r\n            <input\r\n              required\r\n              id=\"customFile\"\r\n              class=\"imgInput\"\r\n              type=\"file\"\r\n              name=\"file-to-upload\"\r\n              ref=\"fileInput\"\r\n              @change=\"fileChange\"\r\n            />\r\n            <div class=\"imgBox\" v-if=\"imageOpen\">\r\n              <img :src=\"images\" />\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <label for=\"\">標題*</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            id=\"title\"\r\n            ref=\"titleInput\"\r\n            required\r\n          />\r\n        </li>\r\n        <li class=\"positionTop\">\r\n          <label for=\"\">活動介紹*</label>\r\n          <textarea\r\n            name=\"content\"\r\n            id=\"content\"\r\n            ref=\"contentInput\"\r\n            required\r\n          ></textarea>\r\n        </li>\r\n        <li>\r\n          <label for=\"\">表演日期*</label>\r\n          <input type=\"text\" name=\"date\" id=\"date\" ref=\"dateInput\" required />\r\n        </li>\r\n        <li>\r\n          <label for=\"\">表演時間*</label>\r\n          <input type=\"text\" name=\"time\" id=\"time\" ref=\"timeInput\" required />\r\n        </li>\r\n        <li class=\"positionTop\">\r\n          <label for=\"\">注意事項</label>\r\n          <textarea name=\"remark\" id=\"remark\" ref=\"remarkInput\"></textarea>\r\n        </li>\r\n        <li>\r\n          <label for=\"\">活動狀態*</label>\r\n          <select name=\"status\" id=\"status\">\r\n            <option value=\"上架\">上架</option>\r\n            <option value=\"下架\">下架</option>\r\n          </select>\r\n        </li>\r\n      </ul>\r\n      <!-- <a class=\"cancel\" href=\"\">取消</a> -->\r\n      <div class=\"btnBox\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"cancelBtn allBtn\"\r\n          @click=\"popupBtn = !popupBtn\"\r\n        >\r\n          取消\r\n        </button>\r\n        <!-- :key=\"$route.path\" -->\r\n\r\n        <router-link to=\"/backend/activityBackend/activity\">\r\n          <button type=\"submit\" class=\"addBtn allBtn\" @click=\"submitFn\">\r\n            新增\r\n          </button>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n  </form>\r\n\r\n  <!-- 彈跳視窗 -->\r\n  <main class=\"ticket-popup\" v-show=\"popupBtn\">\r\n    <div class=\"containerMain\">\r\n      <div class=\"popupTop\">\r\n        <h3>關閉視窗</h3>\r\n      </div>\r\n\r\n      <div class=\"popupUnder\">\r\n        <p>尚未存檔，是否確認關閉？</p>\r\n        <div class=\"popupBtnBox\">\r\n          <button\r\n            class=\"popupCloseBtn\"\r\n            type=\"button\"\r\n            @click=\"popupBtn = !popupBtn\"\r\n          >\r\n            取消\r\n          </button>\r\n          <router-link to=\"/backend/activityBackend/activity\">\r\n            <button class=\"popupOkBtn\" type=\"button\">確定</button>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<style\r\n  lang=\"scss\"\r\n  src=\"@/assets/scss/layout/backend/_activityBackendAdd.scss\"\r\n  scoped\r\n></style>\r\n","import { render } from \"./ActivityBackendAdd.vue?vue&type=template&id=12783384&scoped=true\"\nimport script from \"./ActivityBackendAdd.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityBackendAdd.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/scss/layout/backend/_activityBackendAdd.scss?vue&type=style&index=0&id=12783384&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\芷盈\\\\Desktop\\\\作品集\\\\前端\\\\ocean_life\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12783384\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","ref","action","method","enctype","for","type","name","id","required","value","_hoisted_1","_hoisted_5","_toDisplayString","_ctx","query","_hoisted_6","onChange","$setup","_createElementBlock","src","_hoisted_9","_hoisted_10","_hoisted_13","_hoisted_15","_hoisted_17","_hoisted_20","_hoisted_22","onClick","_createVNode","_component_router_link","to","_hoisted_26","_hoisted_28","_hoisted_30","setup","reload","inject","popupBtn","images","imageOpen","dateInput","timeInput","fileInput","titleInput","contentInput","remarkInput","form","submitFn","e","reportValidity","uploadfile","files","titleInfo","$","val","contentInfo","remarkInfo","statusInfo","dateInfo","timeInfo","formData","FormData","append","url","axios","then","res","catch","error","console","log","preventDefault","fileChange","input","target","length","urlInfo","window","URL","createObjectURL","__exports__","render"],"sourceRoot":""}